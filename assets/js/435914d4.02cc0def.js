"use strict";(self.webpackChunkdev_doc=self.webpackChunkdev_doc||[]).push([[2597],{3905:function(e,n,t){t.r(n),t.d(n,{MDXContext:function(){return u},MDXProvider:function(){return m},mdx:function(){return v},useMDXComponents:function(){return s},withMDXComponents:function(){return d}});var r=t(67294);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},a.apply(this,arguments)}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){l(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,l=function(e,n){if(null==e)return{};var t,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(l[t]=e[t]);return l}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(l[t]=e[t])}return l}var u=r.createContext({}),d=function(e){return function(n){var t=s(n.components);return r.createElement(e,a({},n,{components:t}))}},s=function(e){var n=r.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},m=function(e){var n=s(e.components);return r.createElement(u.Provider,{value:n},e.children)},f={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},p=r.forwardRef((function(e,n){var t=e.components,l=e.mdxType,a=e.originalType,o=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),d=s(t),m=l,p=d["".concat(o,".").concat(m)]||d[m]||f[m]||a;return t?r.createElement(p,i(i({ref:n},u),{},{components:t})):r.createElement(p,i({ref:n},u))}));function v(e,n){var t=arguments,l=n&&n.mdxType;if("string"==typeof e||l){var a=t.length,o=new Array(a);o[0]=p;var i={};for(var c in n)hasOwnProperty.call(n,c)&&(i[c]=n[c]);i.originalType=e,i.mdxType="string"==typeof e?e:l,o[1]=i;for(var u=2;u<a;u++)o[u]=t[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}p.displayName="MDXCreateElement"},22286:function(e,n,t){var r=t(20862).default;Object.defineProperty(n,"__esModule",{value:!0}),n.useLinksCollector=n.createStatefulLinksCollector=n.ProvideLinksCollector=void 0;var l=r(t(67294));n.createStatefulLinksCollector=function(){var e=new Set;return{collectLink:function(n){e.add(n)},getCollectedLinks:function(){return[].concat(e)}}};var a=(0,l.createContext)({collectLink:function(){}});n.useLinksCollector=function(){return(0,l.useContext)(a)};n.ProvideLinksCollector=function(e){var n=e.children,t=e.linksCollector;return l.default.createElement(a.Provider,{value:t},n)}},33692:function(e,n,t){var r=t(95318).default,l=t(20862).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=r(t(63366)),o=l(t(67294)),i=t(73727),c=r(t(52263)),u=r(t(13919)),d=r(t(10412)),s=t(22286),m=t(44996),f=t(18780),p=["isNavLink","to","href","activeClassName","isActive","data-noBrokenLinkCheck","autoAddBaseUrl"];var v=function(e){var n,t,r=e.isNavLink,l=e.to,v=e.href,b=e.activeClassName,h=e.isActive,x=e["data-noBrokenLinkCheck"],k=e.autoAddBaseUrl,g=void 0===k||k,y=(0,a.default)(e,p),C=(0,c.default)().siteConfig,O=C.trailingSlash,w=C.baseUrl,N=(0,m.useBaseUrlUtils)().withBaseUrl,P=(0,s.useLinksCollector)(),j=l||v,_=(0,u.default)(j),U=null==j?void 0:j.replace("pathname://",""),S=void 0!==U?(t=U,g&&function(e){return e.startsWith("/")}(t)?N(t):t):void 0;S&&_&&(S=(0,f.applyTrailingSlash)(S,{trailingSlash:O,baseUrl:w}));var L=(0,o.useRef)(!1),M=r?i.NavLink:i.Link,I=d.default.canUseIntersectionObserver,A=(0,o.useRef)();(0,o.useEffect)((function(){return!I&&_&&null!=S&&window.docusaurus.prefetch(S),function(){I&&A.current&&A.current.disconnect()}}),[A,S,I,_]);var D=null!==(n=null==S?void 0:S.startsWith("#"))&&void 0!==n&&n,E=!S||!_||D;return S&&_&&!D&&!x&&P.collectLink(S),E?o.default.createElement("a",Object.assign({href:S},j&&!_&&{target:"_blank",rel:"noopener noreferrer"},y)):o.default.createElement(M,Object.assign({},y,{onMouseEnter:function(){L.current||null==S||(window.docusaurus.preload(S),L.current=!0)},innerRef:function(e){var n,t;I&&e&&_&&(n=e,t=function(){null!=S&&window.docusaurus.prefetch(S)},A.current=new window.IntersectionObserver((function(e){e.forEach((function(e){n===e.target&&(e.isIntersecting||e.intersectionRatio>0)&&(A.current.unobserve(n),A.current.disconnect(),t())}))})),A.current.observe(n))},to:S||""},r&&{isActive:h,activeClassName:b}))};n.default=v},13919:function(e,n){function t(e){return!0===/^(\w*:|\/\/)/.test(e)}Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return void 0!==e&&!t(e)},n.hasProtocol=t},44996:function(e,n,t){var r=t(95318).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){void 0===n&&(n={});return(0,o().withBaseUrl)(e,n)},n.useBaseUrlUtils=o;var l=r(t(52263)),a=t(13919);function o(){var e=(0,l.default)().siteConfig,n=(e=void 0===e?{}:e).baseUrl,t=void 0===n?"/":n,r=e.url;return{withBaseUrl:function(e,n){return function(e,n,t,r){var l=void 0===r?{}:r,o=l.forcePrependBaseUrl,i=void 0!==o&&o,c=l.absolute,u=void 0!==c&&c;if(!t)return t;if(t.startsWith("#"))return t;if((0,a.hasProtocol)(t))return t;if(i)return n+t;var d=t.startsWith(n)?t:n+t.replace(/^\//,"");return u?e+d:d}(r,t,e,n)}}}},8802:function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=n.trailingSlash,r=n.baseUrl;if(e.startsWith("#"))return e;if(void 0===t)return e;var l,a=e.split(/[#?]/)[0],o="/"===a||a===r?a:(l=a,t?function(e){return e.endsWith("/")?e:e+"/"}(l):function(e){return e.endsWith("/")?e.slice(0,-1):e}(l));return e.replace(a,o)}},18780:function(e,n,t){var r=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0}),n.uniq=n.applyTrailingSlash=void 0;var l=t(8802);Object.defineProperty(n,"applyTrailingSlash",{enumerable:!0,get:function(){return r(l).default}});var a=t(29964);Object.defineProperty(n,"uniq",{enumerable:!0,get:function(){return r(a).default}})},29964:function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return Array.from(new Set(e))}},73690:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return c},contentTitle:function(){return u},metadata:function(){return d},toc:function(){return s},default:function(){return f}});var r=t(87462),l=t(63366),a=(t(67294),t(3905)),o=t(44996),i=(t(33692),["components"]),c={id:"intro",title:"ckb-cli Introduction",sidebar_label:"ckb-cli Introduction"},u=void 0,d={unversionedId:"tools/ckb-cli/intro",id:"tools/ckb-cli/intro",isDocsHomePage:!1,title:"ckb-cli Introduction",description:"Overview",source:"@site/docs/tools/ckb-cli/intro.md",sourceDirName:"tools/ckb-cli",slug:"/tools/ckb-cli/intro",permalink:"/docsite/docs/tools/ckb-cli/intro",editUrl:"https://github.com/xying21/docsite/docs/tools/ckb-cli/intro.md",tags:[],version:"current",lastUpdatedAt:1635849413,formattedLastUpdatedAt:"11/2/2021",frontMatter:{id:"intro",title:"ckb-cli Introduction",sidebar_label:"ckb-cli Introduction"},sidebar:"sidebar2",previous:{title:"Introduction",permalink:"/docsite/docs/tools/intro"},next:{title:"Account Management",permalink:"/docsite/docs/tools/ckb-cli/ckb-cli-account"}},s=[{value:"Overview",id:"overview",children:[],level:2},{value:"Source",id:"source",children:[],level:2},{value:"Commands",id:"commands",children:[{value:"\u68c0\u67e5\u7248\u672c",id:"\u68c0\u67e5\u7248\u672c",children:[],level:3},{value:"\u53ef\u7528\u547d\u4ee4",id:"\u53ef\u7528\u547d\u4ee4",children:[],level:3},{value:"\u8bbe\u5b9a RPC URL",id:"\u8bbe\u5b9a-rpc-url",children:[],level:3},{value:"TUI",id:"tui",children:[],level:3},{value:"\u8f93\u51fa\u683c\u5f0f",id:"\u8f93\u51fa\u683c\u5f0f",children:[{value:"\u9ed8\u8ba4\u8f93\u51fa yaml \u683c\u5f0f",id:"\u9ed8\u8ba4\u8f93\u51fa-yaml-\u683c\u5f0f",children:[],level:4},{value:"\u8f93\u51fa json \u683c\u5f0f",id:"\u8f93\u51fa-json-\u683c\u5f0f",children:[],level:4}],level:3}],level:2}],m={toc:s};function f(e){var n=e.components,t=(0,l.default)(e,i);return(0,a.mdx)("wrapper",(0,r.default)({},m,t,{components:n,mdxType:"MDXLayout"}),(0,a.mdx)("h2",{id:"overview"},"Overview"),(0,a.mdx)("p",null,(0,a.mdx)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb-cli"},"ckb-cli")," \u662f\u4e00\u4e2a\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u7528\u4e8e\u8c03\u8bd5\u5f00\u53d1\u4e2d\u7684 CKB\uff0c\u4ee5\u65b9\u4fbf\u7528\u6237\u4e0e CKB \u8fdb\u884c\u4ea4\u4e92\u3002ckb-cli \u63d0\u4f9b\u4ee5\u4e0b\u529f\u80fd:"),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},"\u641c\u7d22\u533a\u5757\u94fe\u4fe1\u606f"),(0,a.mdx)("li",{parentName:"ul"},"\u914d\u7f6e\u73af\u5883\u53d8\u91cf"),(0,a.mdx)("li",{parentName:"ul"},"\u8c03\u7528 RPC \u4e0e CKB \u8282\u70b9\u4ea4\u4e92"),(0,a.mdx)("li",{parentName:"ul"},"\u5904\u7406\u6a21\u62df\u4ea4\u6613"),(0,a.mdx)("li",{parentName:"ul"},"\u521b\u5efa\u94b1\u5305\u548c\u67e5\u8be2\u4f59\u989d\u7b49\u3002")),(0,a.mdx)("h2",{id:"source"},"Source"),(0,a.mdx)("p",null,"ckb \u5ba2\u6237\u7aef\u5185\u542b\u6709 ckb-cli\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u901a\u8fc7\u4e0b\u8f7d ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb/releases"},"ckb \u5ba2\u6237\u7aef"),"\u83b7\u53d6\u6700\u65b0\u7248\u7684 ckb-cli\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u524d\u5f80 ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb-cli/releases"},"ckb-cli \u4ee3\u7801\u5e93"),"\u83b7\u53d6\u6700\u65b0\u7248\u672c\u7684 ckb-cli\u3002"),(0,a.mdx)("h2",{id:"commands"},"Commands"),(0,a.mdx)("h3",{id:"\u68c0\u67e5\u7248\u672c"},"\u68c0\u67e5\u7248\u672c"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"ckb-cli --version\n\n=> ckb-cli 0.30.0 (2a7ed95 2020-03-20)\n")),(0,a.mdx)("h3",{id:"\u53ef\u7528\u547d\u4ee4"},"\u53ef\u7528\u547d\u4ee4"),(0,a.mdx)("p",null,"\u8bf7\u6c42\uff1a"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"# Top level help doc\nckb-cli --help\n# RPC help doc\nckb-cli rpc --help\n")),(0,a.mdx)("p",null,"\u54cd\u5e94\uff1a"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"USAGE:\n    ckb-cli [FLAGS] [OPTIONS] [SUBCOMMAND]\n\nFLAGS:\n                           # \u8f93\u51fa jason \u53d6\u6d88\u9ad8\u4eae\n        --no-color         Do not highlight(color) output json\n                           # \u663e\u793a\u8bf7\u6c42\u53c2\u6570\n        --debug            Display request parameters\n                           # \u786e\u4fdd\u7d22\u5f15\u5e93\u5728\u6267\u884c\u547d\u4ee4\u524d\u5b8c\u6210\u540c\u6b65\n        --wait-for-sync    Ensure the index-store synchronizes completely before command being executed\n                           # \u6253\u5370\u5e2e\u52a9\u4fe1\u606f\n    -h, --help             Prints help information\n                           # \u6253\u5370\u7248\u672c\u4fe1\u606f\n    -V, --version          Prints version information\n\nOPTIONS:\n                                            # RPC API \u670d\u52a1 url\n        --url <url>                        RPC API server url\n                                            # \u9009\u62e9\u8f93\u51fa\u683c\u5f0f\uff0c\u9ed8\u8ba4 yaml\uff0c\u53ef\u9009\u9879\uff1ayaml\uff0cjson\n        --output-format <output-format>    Select output format [default: yaml]  [possible values: yaml, json]\n\nSUBCOMMANDS:\n                # \u5bf9\u8282\u70b9\u8c03\u7528 RPC \u547d\u4ee4\n    rpc         Invoke RPC call to node\n                # \u8d26\u6237\u7ba1\u7406\n    account     Manage accounts\n                # \u5904\u7406\u6a21\u62df\u4ea4\u6613\uff08\u9a8c\u8bc1/\u53d1\u9001\uff09\n    mock-tx     Handle mock transactions (verify/send)\n                # \u5904\u7406\u5e38\u89c1\u7684\u7b7e\u540d/\u591a\u7b7e\u4ea4\u6613\n    tx          Handle common sighash/multisig transaction\n                # \u542f\u52a8 API \u670d\u52a1\n    server      Start advanced API server\n                # \u5e38\u7528\u5de5\u5177\n    util        Utilities\n                # molecule \u7f16\u7801/\u89e3\u7801\u5de5\u5177\n    molecule    Molecule encode/decode utilities\n                # \u4ea4\u6613 / \u67e5\u8be2\u4f59\u989d\uff08\u901a\u8fc7\u672c\u5730\u7d22\u5f15\uff09/ key utils\n    wallet      Transfer / query balance (with local index) / key utils\n                # \u5b58\u5165 / \u51c6\u5907 / \u53d6\u51fa / \u67e5\u8be2 Nervos DAO \u4f59\u989d\uff08\u901a\u8fc7\u672c\u5730\u7d22\u5f15\uff09/ key utils\n    dao         Deposit / prepare / withdraw / query NervosDAO balance (with local index) / key utils\n                # \u8fdb\u5165 TUI \u6a21\u5f0f\n    tui         Enter TUI mode\n                # help\n    help        Prints this message or the help of the given subcommand(s)\n")),(0,a.mdx)("h3",{id:"\u8bbe\u5b9a-rpc-url"},"\u8bbe\u5b9a RPC URL"),(0,a.mdx)("p",null,"rpc url \u9ed8\u8ba4\u4e3a ",(0,a.mdx)("inlineCode",{parentName:"p"},"127.0.0.1:8114"),"\uff0c\u53ef\u4ee5\u4fee\u6539\u4e3a\uff1a"),(0,a.mdx)("p",null,(0,a.mdx)("inlineCode",{parentName:"p"},"export API_URL=http://<\u516c\u5171ip>:8114")),(0,a.mdx)("p",null,"\u6216\u6539\u4e3a\u9ed8\u8ba4\n",(0,a.mdx)("inlineCode",{parentName:"p"},"export API_URL=http://127.0.0.1:8114")),(0,a.mdx)("p",null,"\u5728\u6267\u884c\u4e00\u4e9b\u547d\u4ee4\u65f6\uff0c\u4f1a\u4ece\u8bbe\u5b9a\u7684 rpc url \u4e2d\u83b7\u5f97\u6570\u636e\u3002"),(0,a.mdx)("h3",{id:"tui"},"TUI"),(0,a.mdx)("p",null,"\u5728\u8fd0\u884c ckb \u8282\u70b9\u540e\uff0c\u67e5\u770b\u540c\u6b65\u72b6\u6001"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"# \u9700\u5728\u94fe\u542f\u52a8\u540e\u4f7f\u7528\nckb-cli tui\n")),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("inlineCode",{parentName:"li"},"Chain"),"\uff1a \u8fd0\u884c\u7684 mainnet\u3001testnet\u3001dev"),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("inlineCode",{parentName:"li"},"Epoch"),"\uff1a\u5468\u671f"),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("inlineCode",{parentName:"li"},"Difficulty"),"\uff1a\u96be\u5ea6"),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("inlineCode",{parentName:"li"},"Tip Block"),"\uff1a\u5f53\u524d\u6700\u9ad8\u533a\u5757")),(0,a.mdx)("img",{src:(0,o.default)("img/tui.png"),width:"50%"}),(0,a.mdx)("hr",null),(0,a.mdx)("h3",{id:"\u8f93\u51fa\u683c\u5f0f"},"\u8f93\u51fa\u683c\u5f0f"),(0,a.mdx)("p",null,"\u9ed8\u8ba4\u8f93\u51fa yaml \u683c\u5f0f\uff0c\u52a0\u5165 ",(0,a.mdx)("inlineCode",{parentName:"p"},"--output-format json")," \u540e\u8f93\u51fa json \u683c\u5f0f\u3002"),(0,a.mdx)("h4",{id:"\u9ed8\u8ba4\u8f93\u51fa-yaml-\u683c\u5f0f"},"\u9ed8\u8ba4\u8f93\u51fa yaml \u683c\u5f0f"),(0,a.mdx)("p",null,"\u8bf7\u6c42:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre"},"ckb-cli rpc get_tip_header\n")),(0,a.mdx)("details",null,(0,a.mdx)("summary",null,"\u70b9\u51fb\u67e5\u770b\u8be6\u7ec6\u8f93\u51fa"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-yaml"},'version: 0\ncompact_target: 0x20010000\ntimestamp: "1585623784848 (2020-03-31 11:03:04.848 +08:00)"\nnumber: 15\nepoch: "0x3e8000f000000 {number: 0, index: 15, length: 1000}"\nparent_hash: 0xaef44205227ee5c1ed9054c7cf90bf7893d9ec95cf769497d5a4d4887119c67a\ntransactions_root: 0xf20f3b68f7661180b162f93eb001edc70c3b77f01e750ca5b4a3c4ef95f53e1d\nproposals_hash: 0x0000000000000000000000000000000000000000000000000000000000000000\nuncles_hash: 0x0000000000000000000000000000000000000000000000000000000000000000\ndao: 0x4030263fe021a12eb4e10d13f38623006132a176c400000000c78cd606fbfe06\nnonce: 0x4215d94fd0f4fa327c3b192a054ace61\nhash: 0xbf6b97e591081f0412d58da5aa802a3bff28d2442384f413beb763df6d1af286\n'))),(0,a.mdx)("h4",{id:"\u8f93\u51fa-json-\u683c\u5f0f"},"\u8f93\u51fa json \u683c\u5f0f"),(0,a.mdx)("p",null,"\u8bf7\u6c42:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre"},"ckb-cli rpc get_tip_header --output-format json\n")),(0,a.mdx)("details",null,(0,a.mdx)("summary",null,"\u70b9\u51fb\u67e5\u770b\u8be6\u7ec6\u8f93\u51fa"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "compact_target": "0x20010000",\n  "dao": "0x50ccf902cc22a12e14d8993ef3862300f0ab150bf5000000003be7840cfbfe06",\n  "epoch": "0x3e80013000000 {number: 0, index: 19, length: 1000}",\n  "hash": "0xcb76494f2a288eecb8965be41eb1e7aa337dc30c9604dc0791a1bc581bade1f8",\n  "nonce": "0x1c30e32d0f9c98b299df3272acd0d0ab",\n  "number": 19,\n  "parent_hash": "0xd1bfac76c80bdffe80d8865a4d13fbff75eb563a3ef9b106b334b5577683e1dc",\n  "proposals_hash": "0x0000000000000000000000000000000000000000000000000000000000000000",\n  "timestamp": "1585623804894 (2020-03-31 11:03:24.894 +08:00)",\n  "transactions_root": "0x4f2605ef84fd54fe457c40c5efef0333b184cf6de5286e28b6452ec4fdada52e",\n  "uncles_hash": "0x0000000000000000000000000000000000000000000000000000000000000000",\n  "version": 0\n}\n'))),(0,a.mdx)("hr",null),(0,a.mdx)("p",null,"\u547d\u4ee4\u4f7f\u7528\uff1a",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb-cli/wiki/Sub-Commands"},"https://github.com/nervosnetwork/ckb-cli/wiki/Sub-Commands")))}f.isMDXComponent=!0}}]);