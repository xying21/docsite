"use strict";(self.webpackChunkdev_doc=self.webpackChunkdev_doc||[]).push([[3518],{3905:function(e,n,r){r.r(n),r.d(n,{MDXContext:function(){return c},MDXProvider:function(){return m},mdx:function(){return h},useMDXComponents:function(){return p},withMDXComponents:function(){return d}});var t=r(67294);function o(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function a(){return a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},a.apply(this,arguments)}function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function i(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){o(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function s(e,n){if(null==e)return{};var r,t,o=function(e,n){if(null==e)return{};var r,t,o={},a=Object.keys(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||(o[r]=e[r]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(t=0;t<a.length;t++)r=a[t],n.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var c=t.createContext({}),d=function(e){return function(n){var r=p(n.components);return t.createElement(e,a({},n,{components:r}))}},p=function(e){var n=t.useContext(c),r=n;return e&&(r="function"==typeof e?e(n):i(i({},n),e)),r},m=function(e){var n=p(e.components);return t.createElement(c.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},g=t.forwardRef((function(e,n){var r=e.components,o=e.mdxType,a=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),d=p(r),m=o,g=d["".concat(l,".").concat(m)]||d[m]||u[m]||a;return r?t.createElement(g,i(i({ref:n},c),{},{components:r})):t.createElement(g,i({ref:n},c))}));function h(e,n){var r=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var a=r.length,l=new Array(a);l[0]=g;var i={};for(var s in n)hasOwnProperty.call(n,s)&&(i[s]=n[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,l[1]=i;for(var c=2;c<a;c++)l[c]=r[c];return t.createElement.apply(null,l)}return t.createElement.apply(null,r)}g.displayName="MDXCreateElement"},58215:function(e,n,r){var t=r(95318).default;n.Z=void 0;var o=t(r(67294));var a=function(e){var n=e.children,r=e.hidden,t=e.className;return o.default.createElement("div",{role:"tabpanel",hidden:r,className:t},n)};n.Z=a},10279:function(e,n,r){var t=r(20862).default,o=r(95318).default;n.Z=function(e){var n=(0,i.default)();return l.default.createElement(m,(0,a.default)({key:String(n)},e))};var a=o(r(87462)),l=t(r(67294)),i=o(r(72389)),s=o(r(80944)),c=r(86700),d=o(r(86010)),p=o(r(13693));function m(e){var n,r,t,o=e.lazy,a=e.block,i=e.defaultValue,m=e.values,u=e.groupId,g=e.className,h=l.Children.map(e.children,(function(e){if((0,l.isValidElement)(e)&&void 0!==e.props.value)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),b=null!=m?m:h.map((function(e){var n=e.props;return{value:n.value,label:n.label}})),f=(0,c.duplicates)(b,(function(e,n){return e.value===n.value}));if(f.length>0)throw new Error('Docusaurus error: Duplicate values "'+f.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var k=null===i?i:null!=(n=null!=i?i:null==(r=h.find((function(e){return e.props.default})))?void 0:r.props.value)?n:null==(t=h[0])?void 0:t.props.value;if(null!==k&&!b.some((function(e){return e.value===k})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+k+'" but none of its children has the corresponding value. Available values are: '+b.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var y=(0,s.default)(),v=y.tabGroupChoices,x=y.setTabGroupChoices,w=(0,l.useState)(k),T=w[0],S=w[1],C=[],N=(0,c.useScrollPositionBlocker)().blockElementScrollPositionUntilNextRender;if(null!=u){var A=v[u];null!=A&&A!==T&&b.some((function(e){return e.value===A}))&&S(A)}var H=function(e){var n=e.currentTarget,r=C.indexOf(n),t=b[r].value;t!==T&&(N(n),S(t),null!=u&&x(u,t))},P=function(e){var n,r=null;switch(e.key){case"ArrowRight":var t=C.indexOf(e.currentTarget)+1;r=C[t]||C[0];break;case"ArrowLeft":var o=C.indexOf(e.currentTarget)-1;r=C[o]||C[C.length-1]}null==(n=r)||n.focus()};return l.default.createElement("div",{className:"tabs-container"},l.default.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,d.default)("tabs",{"tabs--block":a},g)},b.map((function(e){var n=e.value,r=e.label;return l.default.createElement("li",{role:"tab",tabIndex:T===n?0:-1,"aria-selected":T===n,className:(0,d.default)("tabs__item",p.default.tabItem,{"tabs__item--active":T===n}),key:n,ref:function(e){return C.push(e)},onKeyDown:P,onFocus:H,onClick:H},null!=r?r:n)}))),o?(0,l.cloneElement)(h.filter((function(e){return e.props.value===T}))[0],{className:"margin-vert--md"}):l.default.createElement("div",{className:"margin-vert--md"},h.map((function(e,n){return(0,l.cloneElement)(e,{key:n,hidden:e.props.value!==T})}))))}},79443:function(e,n,r){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t=(0,r(67294).createContext)(void 0);n.default=t},80944:function(e,n,r){var t=r(95318).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=r(67294),a=t(r(79443));var l=function(){var e=(0,o.useContext)(a.default);if(null==e)throw new Error('"useUserPreferencesContext" is used outside of "Layout" component.');return e};n.default=l},62677:function(e,n,r){r.r(n),r.d(n,{frontMatter:function(){return c},contentTitle:function(){return d},metadata:function(){return p},toc:function(){return m},default:function(){return g}});var t=r(87462),o=r(63366),a=(r(67294),r(3905)),l=r(10279),i=r(58215),s=["components"],c={id:"overview_go",title:"ckb-sdk-go",sidebar_label:"ckb-sdk-go"},d=void 0,p={unversionedId:"tools/sdk/overview_go",id:"tools/sdk/overview_go",isDocsHomePage:!1,title:"ckb-sdk-go",description:"Overview",source:"@site/docs/tools/sdk/overview_go.md",sourceDirName:"tools/sdk",slug:"/tools/sdk/overview_go",permalink:"/docsite/docs/tools/sdk/overview_go",editUrl:"https://github.com/xying21/docsite/docs/tools/sdk/overview_go.md",tags:[],version:"current",lastUpdatedAt:1635849413,formattedLastUpdatedAt:"11/2/2021",frontMatter:{id:"overview_go",title:"ckb-sdk-go",sidebar_label:"ckb-sdk-go"},sidebar:"sidebar2",previous:{title:"DApps on CKB Workshop Code",permalink:"/docsite/docs/tools/lumos/guides/integratenft"},next:{title:"ckb-sdk-java",permalink:"/docsite/docs/tools/sdk/overview_java"}},m=[{value:"Overview",id:"overview",children:[],level:2},{value:"Features",id:"features",children:[],level:2},{value:"Contact &amp; Support",id:"contact--support",children:[],level:2},{value:"Quick Start",id:"quick-start",children:[{value:"System Requirements",id:"system-requirements",children:[],level:3},{value:"Install and Run a CKB Node on DEV Chain",id:"install-and-run-a-ckb-node-on-dev-chain",children:[],level:3},{value:"Get CKB Capacity for Test Accounts",id:"get-ckb-capacity-for-test-accounts",children:[],level:3},{value:"Install Go",id:"install-go",children:[],level:3},{value:"Create a Go Project",id:"create-a-go-project",children:[],level:3},{value:"Enable Dependency Tracking for the Code",id:"enable-dependency-tracking-for-the-code",children:[],level:3},{value:"Create a <code>hello.go</code> File",id:"create-a-hellogo-file",children:[],level:3},{value:"Add New Modules for ckb-sdk-go.",id:"add-new-modules-for-ckb-sdk-go",children:[],level:3},{value:"Run the Code",id:"run-the-code",children:[],level:3}],level:2},{value:"Examples",id:"examples",children:[{value:"RPC Examples",id:"rpc-examples",children:[{value:"CKB RPC",id:"ckb-rpc",children:[],level:4},{value:"Mercury RPC",id:"mercury-rpc",children:[],level:4},{value:"CKB Indexer RPC",id:"ckb-indexer-rpc",children:[],level:4}],level:3},{value:"Send CKB with One Single Input",id:"send-ckb-with-one-single-input",children:[],level:3},{value:"Send CKB with Multiple Inputs",id:"send-ckb-with-multiple-inputs",children:[],level:3},{value:"Send CKB with Multiple Inputs and Multisig",id:"send-ckb-with-multiple-inputs-and-multisig",children:[],level:3},{value:"Send CKB with Multiple Inputs and Hybirdsig",id:"send-ckb-with-multiple-inputs-and-hybirdsig",children:[],level:3},{value:"Collect Cells",id:"collect-cells",children:[],level:3},{value:"Collect Cells with Filter",id:"collect-cells-with-filter",children:[],level:3},{value:"Collect Cells and Filter Out Immature Cells",id:"collect-cells-and-filter-out-immature-cells",children:[],level:3},{value:"Create a Payment",id:"create-a-payment",children:[],level:3},{value:"Deposit CKB to DAO",id:"deposit-ckb-to-dao",children:[],level:3},{value:"Withdraw CKB from DAO (Phase 1)",id:"withdraw-ckb-from-dao-phase-1",children:[],level:3},{value:"Withdraw CKB from DAO (Phase 2)",id:"withdraw-ckb-from-dao-phase-2",children:[],level:3},{value:"Issue cheque Cells",id:"issue-cheque-cells",children:[],level:3},{value:"Claim cheque Cells",id:"claim-cheque-cells",children:[],level:3},{value:"Withdraw cheque Cells",id:"withdraw-cheque-cells",children:[],level:3},{value:"Transfer SUDT",id:"transfer-sudt",children:[],level:3}],level:2}],u={toc:m};function g(e){var n=e.components,r=(0,o.default)(e,s);return(0,a.mdx)("wrapper",(0,t.default)({},u,r,{components:n,mdxType:"MDXLayout"}),(0,a.mdx)("h2",{id:"overview"},"Overview"),(0,a.mdx)("p",null,"CKB Go SDK (ckb-sdk-go) encapsulates cryptographic algorithms and RPC services to support the development of applications on CKB. The knowledge of CKB Data Model (see ",(0,a.mdx)("a",{parentName:"p",href:"https://docs.nervos.org/docs/reference/introduction"},"Nervos CKB Reference")," and ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/nervosnetwork/rfcs/blob/master/rfcs/0019-data-structures/0019-data-structures.md"},"CKB RFC: CKB Data Structures"),") and ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb/tree/develop/rpc"},"JSON-RPC")," are crucial in developing applications by using this SDK."),(0,a.mdx)("p",null,"The SDK uses the ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/b7b9eff4f48fb2f3020cb31c630eea17cbc77e81/api/api.go#L231"},"NewCkbApi")," API to support the ",(0,a.mdx)("strong",{parentName:"p"},"CKB"),", ",(0,a.mdx)("strong",{parentName:"p"},"CKB indexer")," and ",(0,a.mdx)("strong",{parentName:"p"},"Mercury")," module starting from 0.43.1 version. For more information, see the ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/use_of_mercury_and_ckb_and_indexer_example.go"},"use_of_mercury_and_ckb_and_indexer_example.go")," example."),(0,a.mdx)("h2",{id:"features"},"Features"),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},"Wallet management"),(0,a.mdx)("li",{parentName:"ul"},"Account management"),(0,a.mdx)("li",{parentName:"ul"},"Cryptocurrency management"),(0,a.mdx)("li",{parentName:"ul"},"Communication with CKB networks"),(0,a.mdx)("li",{parentName:"ul"},"Token management. For more information, see ",(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/tree/develop/mercury"},"Mercury"),".")),(0,a.mdx)("h2",{id:"contact--support"},"Contact & Support"),(0,a.mdx)("p",null,"CKB Go SDK is under continuous development. Comments on the functionality of the SDK can be posted ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb-sdk-go/issues"},"here"),". Any comments and suggestions are welcome and appreciated."),(0,a.mdx)("h2",{id:"quick-start"},"Quick Start"),(0,a.mdx)("p",null,"A project is being setup in the following steps by using ckb-sdk-go to develop an application. With this quick introduction, you will be able to create a Go project and perform a transaction with a single input. "),(0,a.mdx)("p",null,"You can either start from scratch and work through each step, or you can bypass the basic setup process that you are already familiar with. "),(0,a.mdx)("h3",{id:"system-requirements"},"System Requirements"),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},"Operating System:  All major platforms including Linux, Windows, and macOS."),(0,a.mdx)("li",{parentName:"ul"},"CKB node"),(0,a.mdx)("li",{parentName:"ul"},"Go ( version 1.11.5 or higher)")),(0,a.mdx)("h3",{id:"install-and-run-a-ckb-node-on-dev-chain"},"Install and Run a CKB Node on DEV Chain"),(0,a.mdx)("p",null,"For more information, see  ",(0,a.mdx)("a",{parentName:"p",href:"https://cryptape.github.io/lumos-doc/docs/reference/ckbnode#install-a-ckb-node-by-using-tippy"},"Install a CKB Node on DEV Chain by Using Tippy"),"."),(0,a.mdx)("h3",{id:"get-ckb-capacity-for-test-accounts"},"Get CKB Capacity for Test Accounts"),(0,a.mdx)("p",null,"To get CKB capacity for an account on DEV chain:"),(0,a.mdx)("ol",null,(0,a.mdx)("li",{parentName:"ol"},"Assign the lock args of the account to ",(0,a.mdx)("strong",{parentName:"li"},"Block Assembler Lock Arg")," in the Edit Chain form on Tippy explorer and save the changes."),(0,a.mdx)("li",{parentName:"ol"},"Restart the CKB node and start the CKB miner on the Tippy dashboard.")),(0,a.mdx)("p",null,"For more information about CKB accounts and capacity, see ",(0,a.mdx)("a",{parentName:"p",href:"https://cryptape.github.io/lumos-doc/docs/reference/ckbaccount"},"CKB Accounts and Capacity"),"."),(0,a.mdx)("h3",{id:"install-go"},"Install Go"),(0,a.mdx)(l.Z,{defaultValue:"ubuntu",values:[{label:"Ubuntu 20.04",value:"ubuntu"},{label:"macOS",value:"macos"},{label:"Windows",value:"windows"}],mdxType:"Tabs"},(0,a.mdx)(i.Z,{value:"ubuntu",mdxType:"TabItem"},(0,a.mdx)("ol",null,(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Execute the following command to install Go language executables:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ sudo apt install golang\n"))),(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Verify that you've installed Go by opening a command prompt and typing the following command:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ go version\ngo version go1.13.8 linux/amd64\n"))))),(0,a.mdx)(i.Z,{value:"macos",mdxType:"TabItem"},(0,a.mdx)("ol",null,(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Install the Xcode command line tool."),(0,a.mdx)("p",null,"Skip this step if Xcode has been installed."),(0,a.mdx)("p",null,"Execute the following command to install Xcode:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ xcode-select --install\n")),(0,a.mdx)("p",null,"Verify the installation of Xcode:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ xcode-select -p\n"))),(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Install Homebrew."),(0,a.mdx)("p",null,"Skip this step if Homebrew has been installed."),(0,a.mdx)("p",null,"You will be required to enter your password that is the one that you use to unlock your Mac when you start it up. After you enter your password, the installation will start."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},'$ ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"\n'))),(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Update and install Go."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ brew update&& brew install golang\n"))),(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Verify that you have installed Go by opening a command prompt and typing the following command:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ go version\ngo version go1.13.8 linux/amd64\n"))))),(0,a.mdx)(i.Z,{value:"windows",mdxType:"TabItem"},(0,a.mdx)("ol",null,(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Download the installer file from the ",(0,a.mdx)("a",{href:"https://golang.org/dl/"},"Downloads")," page for your system.")),(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Open the MSI file you downloaded and follow the prompts to install Go."),(0,a.mdx)("p",null,"By default, the installer will install Go to ",(0,a.mdx)("inlineCode",{parentName:"p"},"Program Files")," or ",(0,a.mdx)("inlineCode",{parentName:"p"},"Program Files (x86)"),". You can change the location as needed. After installing, you will need to close and reopen any open command prompts so that changes to the environment made by the installer are reflected at the command prompt.")),(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Verify that you've installed Go in a command prompt window with the following command:"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ go version\ngo version go1.16.4 windows/amd64\n")))))),(0,a.mdx)("h3",{id:"create-a-go-project"},"Create a Go Project"),(0,a.mdx)(l.Z,{defaultValue:"ubuntu",values:[{label:"Ubuntu 20.04",value:"ubuntu"},{label:"macOS",value:"macos"},{label:"Windows",value:"windows"}],mdxType:"Tabs"},(0,a.mdx)(i.Z,{value:"ubuntu",mdxType:"TabItem"},(0,a.mdx)("ol",null,(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Open a command prompt and cd to your home directory."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ cd\n"))),(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Create a directory for the Go source code."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ mkdir myApp\n$ cd myApp\n"))))),(0,a.mdx)(i.Z,{value:"macos",mdxType:"TabItem"},(0,a.mdx)("ol",null,(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Open a command prompt and cd to your home directory."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ cd\n"))),(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Create a directory for the Go source code."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ mkdir myApp\n$ cd myApp\n"))))),(0,a.mdx)(i.Z,{value:"windows",mdxType:"TabItem"},(0,a.mdx)("ol",null,(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Open a command prompt and cd to a directory where to create the project."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"> cd D:/projects\n"))),(0,a.mdx)("li",null,(0,a.mdx)("p",null,"Create a directory for the Go source code."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"> mkdir myApp\n> cd myApp\n")))))),(0,a.mdx)("h3",{id:"enable-dependency-tracking-for-the-code"},"Enable Dependency Tracking for the Code"),(0,a.mdx)("p",null,"When importing packages from other modules into your code, the dependencies are being managed through your code's own module.  That module is defined by a go.mod file that tracks the modules providing those packages. The go.mod file remains with your code and is included in your source code repository."),(0,a.mdx)("p",null,"To enable dependency tracking for your code, the go.mod file would be created, run the ",(0,a.mdx)("a",{parentName:"p",href:"https://golang.org/ref/mod#go-mod-init"},(0,a.mdx)("inlineCode",{parentName:"a"},"go mod init"))," command, and give it the name of the module your code will be in. This name is the module's module path. In most cases, this will be the repository location where your source code will be kept, such as ",(0,a.mdx)("inlineCode",{parentName:"p"},"github.com/mymodule"),". If you intend to publish your module for usage by others, the module path ",(0,a.mdx)("em",{parentName:"p"},"must")," be the location where Go tools can download your module."),(0,a.mdx)("p",null,"For the purposes of this tutorial, just use ",(0,a.mdx)("inlineCode",{parentName:"p"},"github.com/myApp"),"."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ go mod init github.com/myApp\ngo: creating new go.mod: module github.com/myApp\n")),(0,a.mdx)("h3",{id:"create-a-hellogo-file"},"Create a ",(0,a.mdx)("code",null,"hello.go")," File"),(0,a.mdx)("p",null,"Create a hello.go file, paste the following code into the file and replace the keys, lock args, transaction hash with the ones that you have."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go",metastring:'title="myApp/hello.go"',title:'"myApp/hello.go"'},'package main\n\nimport (\n    "context"\n    "encoding/hex"\n    "fmt"\n    "log"\n\n    "github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/transaction"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n)\n\nfunc main() {\n    client, err := rpc.Dial("http://127.0.0.1:8114")\n    if err != nil {\n        log.Fatalf("create rpc client error: %v", err)\n    }\n    // Convert the private key of Alice to an ecdsa private key. Alice is the sender.\n    key, err := secp256k1.HexToKey("08730a367dfabcadb805d69e0e613558d5160eb8bab9d6e326980c2c46a05db2")\n    if err != nil {\n        log.Fatalf("import private key error: %v", err)\n    }\n    \n    if err != nil {\n        log.Fatalf("load system script error: %v", err)\n    }\n    //Decode the lock args of Bob to bytes. Bob is the receiver.\n    toAddress, _ := hex.DecodeString("ecbe30bcf5c6b2f2d8ec2dd229a4603a7e206b99")\n    //Initialize the version, HeaderDeps, CellDeps of the transaction.\n    tx := &types.Transaction{\n        Version:    0,\n        HeaderDeps: []types.Hash{},\n        CellDeps: []*types.CellDep{\n                {\n                    OutPoint: &types.OutPoint{\n                        //The dependent transaction Hash is from the SECP256K1_BLAKE160 script of the DEV chain.\n                        TxHash: types.HexToHash("0x6ddc6718014b7ad50121b95bb25ff61b4445b6c57ade514e7d08447e025f9f30"),\n                        Index:  0,\n                    },\n                DepType:  "dep_group",\n                },\n        },\n    }\n    tx.Outputs = append(tx.Outputs, &types.CellOutput{\n        Capacity: 20000000000,\n        //The lock script of Bob. \n        Lock: &types.Script{\n            CodeHash: types.HexToHash("0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8"),\n            HashType: types.HashTypeType,\n            Args: toAddress,\n        },\n    })\n    //Set the address of Alice as the change address.\n    changeAddress, _ := hex.DecodeString("6407c2ef9bd96e8e14ac4cd15d860e9331802172")\n    tx.Outputs = append(tx.Outputs, &types.CellOutput{\n        Capacity: 2007786346416,\n        //The lock script of Alice.\n        Lock: &types.Script{\n            CodeHash: types.HexToHash("0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8"),\n            HashType: types.HashTypeType,\n            Args:     changeAddress, \n        },\n    })\n    tx.OutputsData = [][]byte{{}, {}}\n\n    group, witnessArgs, err := transaction.AddInputsForTransaction(tx, []*types.CellInput{\n        {\n            Since: 0,\n            //Convert the previous transaction hash to bytes.\n            //The previous transaction provides the input cell.\n            PreviousOutput: &types.OutPoint{\n                TxHash: types.HexToHash("0xace92ad1595ab435a13c095160b23ad8ea0dbb7cf7b8f7b7ef3540ec34372f94"),\n                Index: 0,\n            },\n        },\n    })\n\n    if err != nil {\n        log.Fatalf("add inputs to transaction error: %v", err)\n    }\n\n    err = transaction.SingleSignTransaction(tx, group, witnessArgs, key)\n    if err != nil {\n        log.Fatalf("sign transaction error: %v", err)\n    }\n\n    hash, err := client.SendTransaction(context.Background(), tx)\n    if err != nil {\n        log.Fatalf("send transaction error: %v", err)\n    }\n\n    fmt.Println(hash.String())\n}\n')),(0,a.mdx)("h3",{id:"add-new-modules-for-ckb-sdk-go"},"Add New Modules for ckb-sdk-go."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ go mod tidy\n")),(0,a.mdx)("details",null,(0,a.mdx)("summary",null,"OUTPUT"),(0,a.mdx)("p",null,(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"go: finding module for package github.com/nervosnetwork/ckb-sdk-go/utils\ngo: finding module for package github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1\ngo: finding module for package github.com/nervosnetwork/ckb-sdk-go/transaction\ngo: finding module for package github.com/nervosnetwork/ckb-sdk-go/types\ngo: finding module for package github.com/nervosnetwork/ckb-sdk-go/rpc\ngo: downloading github.com/nervosnetwork/ckb-sdk-go v0.3.0\ngo: found github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1 in github.com/nervosnetwork/ckb-sdk-go v0.3.0\ngo: found github.com/nervosnetwork/ckb-sdk-go/rpc in github.com/nervosnetwork/ckb-sdk-go v0.3.0\ngo: found github.com/nervosnetwork/ckb-sdk-go/transaction in github.com/nervosnetwork/ckb-sdk-go v0.3.0\ngo: found github.com/nervosnetwork/ckb-sdk-go/types in github.com/nervosnetwork/ckb-sdk-go v0.3.0\ngo: found github.com/nervosnetwork/ckb-sdk-go/utils in github.com/nervosnetwork/ckb-sdk-go v0.3.0\ngo: downloading github.com/ethereum/go-ethereum v1.9.14\ngo: downloading github.com/golang/mock v1.3.1\ngo: downloading github.com/stretchr/testify v1.4.0\ngo: downloading github.com/pkg/errors v0.8.1\ngo: downloading github.com/minio/blake2b-simd v0.0.0-20160723061019-3f5f724cb5b1\ngo: downloading github.com/davecgh/go-spew v1.1.1\ngo: downloading github.com/pmezard/go-difflib v1.0.0\ngo: downloading gopkg.in/yaml.v2 v2.2.2\ngo: downloading github.com/stretchr/objx v0.1.0\ngo: downloading golang.org/x/crypto v0.0.0-20200311171314-f7b00557c8c4\ngo: downloading github.com/deckarep/golang-set v0.0.0-20180603214616-504e848d77ea\ngo: downloading github.com/gorilla/websocket v1.4.1-0.20190629185528-ae1634f6a989\ngo: downloading gopkg.in/natefinch/npipe.v2 v2.0.0-20160621034901-c1b8fa8bdcce\ngo: downloading github.com/go-stack/stack v1.8.0\ngo: downloading github.com/elastic/gosigar v0.8.1-0.20180330100440-37f05ff46ffa\ngo: downloading github.com/aristanetworks/goarista v0.0.0-20170210015632-ea17b1a17847\ngo: downloading github.com/StackExchange/wmi v0.0.0-20180116203802-5d049714c4a6\ngo: downloading golang.org/x/sys v0.0.0-20200323222414-85ca7c5b95cd\ngo: downloading github.com/go-ole/go-ole v1.2.1\n")))),(0,a.mdx)("p",null,"If you encounter connection issues when adding the modules, try to resolve the issue by setting a global proxy for Go modules."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"# Set the GOPROXY environment variable\n$ export GOPROXY=https://goproxy.io,direct\n")),(0,a.mdx)("details",null,(0,a.mdx)("summary",null,"OUTPUT"),(0,a.mdx)("p",null,(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"go: finding module for package github.com/nervosnetwork/ckb-sdk-go/utils\ngo: finding module for package github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1\ngo: finding module for package github.com/nervosnetwork/ckb-sdk-go/transaction\ngo: finding module for package github.com/nervosnetwork/ckb-sdk-go/types\ngo: finding module for package github.com/nervosnetwork/ckb-sdk-go/rpc\ngo: downloading github.com/nervosnetwork/ckb-sdk-go v0.3.0\ngo: found github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1 in github.com/nervosnetwork/ckb-sdk-go v0.3.0\ngo: found github.com/nervosnetwork/ckb-sdk-go/rpc in github.com/nervosnetwork/ckb-sdk-go v0.3.0\ngo: found github.com/nervosnetwork/ckb-sdk-go/transaction in github.com/nervosnetwork/ckb-sdk-go v0.3.0\ngo: found github.com/nervosnetwork/ckb-sdk-go/types in github.com/nervosnetwork/ckb-sdk-go v0.3.0\ngo: found github.com/nervosnetwork/ckb-sdk-go/utils in github.com/nervosnetwork/ckb-sdk-go v0.3.0\ngo: downloading github.com/ethereum/go-ethereum v1.9.14\ngo: downloading github.com/golang/mock v1.3.1\ngo: downloading github.com/stretchr/testify v1.4.0\ngo: downloading github.com/pkg/errors v0.8.1\ngo: downloading github.com/minio/blake2b-simd v0.0.0-20160723061019-3f5f724cb5b1\ngo: downloading github.com/davecgh/go-spew v1.1.1\ngo: downloading github.com/pmezard/go-difflib v1.0.0\ngo: downloading gopkg.in/yaml.v2 v2.2.2\ngo: downloading github.com/stretchr/objx v0.1.0\ngo: downloading golang.org/x/crypto v0.0.0-20200311171314-f7b00557c8c4\ngo: downloading github.com/deckarep/golang-set v0.0.0-20180603214616-504e848d77ea\ngo: downloading github.com/gorilla/websocket v1.4.1-0.20190629185528-ae1634f6a989\ngo: downloading gopkg.in/natefinch/npipe.v2 v2.0.0-20160621034901-c1b8fa8bdcce\ngo: downloading github.com/go-stack/stack v1.8.0\ngo: downloading github.com/elastic/gosigar v0.8.1-0.20180330100440-37f05ff46ffa\ngo: downloading github.com/aristanetworks/goarista v0.0.0-20170210015632-ea17b1a17847\ngo: downloading github.com/StackExchange/wmi v0.0.0-20180116203802-5d049714c4a6\ngo: downloading golang.org/x/sys v0.0.0-20200323222414-85ca7c5b95cd\ngo: downloading github.com/go-ole/go-ole v1.2.1\n")))),(0,a.mdx)("h3",{id:"run-the-code"},"Run the Code"),(0,a.mdx)("p",null,"Run the code to send the transaction with one single input."),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"$ go run .\n")),(0,a.mdx)("details",null,(0,a.mdx)("summary",null,"OUTPUT"),(0,a.mdx)("p",null,(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-shell"},"0x2b46a855fafe5e3023a05eef9a81beb8fcefd145dc9e65f696d253257cf9b6e4\n")))),(0,a.mdx)("p",null,"The 200 CKB will be transferred from Alice to Bob when the transaction is committed."),(0,a.mdx)("div",{className:"admonition admonition-note alert alert--secondary"},(0,a.mdx)("div",{parentName:"div",className:"admonition-heading"},(0,a.mdx)("h5",{parentName:"div"},(0,a.mdx)("span",{parentName:"h5",className:"admonition-icon"},(0,a.mdx)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,a.mdx)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,a.mdx)("div",{parentName:"div",className:"admonition-content"},(0,a.mdx)("p",{parentName:"div"},"The CKB miner must be running to commit the transaction."))),(0,a.mdx)("h2",{id:"examples"},"Examples"),(0,a.mdx)("h3",{id:"rpc-examples"},"RPC Examples"),(0,a.mdx)("h4",{id:"ckb-rpc"},"CKB RPC"),(0,a.mdx)("p",null,"For more information, see ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb/blob/develop/rpc/README.md"},"CKB RPC documentation"),"."),(0,a.mdx)("h4",{id:"mercury-rpc"},"Mercury RPC"),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/balance_example.go"},"Get balance")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/generic_block_example.go"},"Get generic blocks")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/generic_transaction_example.go"},"Get generic transactions")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/query_generic_transactions_pages_example.go"},"Query generic transactions")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/register_addresses_example.go"},"Register addresses")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/transfer_completion_example.go"},"Build_a transfer_transaction")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/action_example.go"},"Build a transfer transaction by action")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/source_example.go"},"Build a transfer transaction by source")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/normal/acp_example.go"},"Build a transfer transaction by a normal address (Example 1)")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/normal/cheque_example.go"},"Build a transfer transaction by a normal address (Example 2)")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/normal/secp256k1_example.go"},"Build a transfer transaction by a normal address (Example 3)")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/build_asset_account_creation_transaction_example.go"},"Build an asset account creation transaction")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/build_asset_collection_transaction_example.go"},"Build an asset collection transaction"))),(0,a.mdx)("p",null,"For more information, see ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/nervosnetwork/mercury/blob/main/core/rpc/README.md"},"Mercury RPC documentation"),"."),(0,a.mdx)("h4",{id:"ckb-indexer-rpc"},"CKB Indexer RPC"),(0,a.mdx)("ul",null,(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/indexer/tip_example.go"},"Get tip")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/indexer/cells_example.go"},"Get cells")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/indexer/capacity_example.go"},"Get capacity of cells")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/indexer/transanction_example.go"},"Get transactions")),(0,a.mdx)("li",{parentName:"ul"},(0,a.mdx)("a",{parentName:"li",href:"https://github.com/nervosnetwork/ckb-sdk-go/blob/develop/mercury/example/indexer/filter_example.go"},"Filter"))),(0,a.mdx)("p",null,"For more information, see ",(0,a.mdx)("a",{parentName:"p",href:"https://github.com/nervosnetwork/ckb-indexer/blob/master/README.md"},"CKB indexer RPC documentation"),"."),(0,a.mdx)("h3",{id:"send-ckb-with-one-single-input"},"Send CKB with One Single Input"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "context"\n    "encoding/hex"\n    "fmt"\n    "log"\n\n    "github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/transaction"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n)\n\nfunc main() {\n    client, err := rpc.Dial("http://127.0.0.1:8114")\n    if err != nil {\n        log.Fatalf("create rpc client error: %v", err)\n    }\n\n    key, err := secp256k1.HexToKey(PRIVATE_KEY)\n    if err != nil {\n        log.Fatalf("import private key error: %v", err)\n    }\n\n    systemScripts, err := utils.NewSystemScripts(client)\n    if err != nil {\n        log.Fatalf("load system script error: %v", err)\n    }\n\n    toAddress, _ := hex.DecodeString("bf3e92da4911fa5f620e7b1fd27c2d0ddd0de744")\n    changeScript, _ := key.Script(systemScripts)\n\n    tx := transaction.NewSecp256k1SingleSigTx(systemScripts)\n    tx.Outputs = append(tx.Outputs, &types.CellOutput{\n        Capacity: 200000000000,\n        Lock: &types.Script{\n            CodeHash: types.HexToHash("0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8"),\n            HashType: types.HashTypeType,\n            Args:     toAddress,\n        },\n    })\n    tx.Outputs = append(tx.Outputs, &types.CellOutput{\n        Capacity: 199999998000,\n        Lock: &types.Script{\n            CodeHash: types.HexToHash("0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8"),\n            HashType: types.HashTypeType,\n            Args:     changeScript.Args,\n        },\n    })\n    tx.OutputsData = [][]byte{{}, {}}\n\n    group, witnessArgs, err := transaction.AddInputsForTransaction(tx, []*types.CellInput{\n        {\n            Since: 0,\n            PreviousOutput: &types.OutPoint{\n                TxHash: types.HexToHash("0x8e6d818c6e07e6cbd9fca51294030494ee23dc388d7f5276ba50b938d02cc015"),\n                Index:  1,\n            },\n        },\n    })\n\n    if err != nil {\n        log.Fatalf("add inputs to transaction error: %v", err)\n    }\n\n    err = transaction.SingleSignTransaction(tx, group, witnessArgs, key)\n    if err != nil {\n        log.Fatalf("sign transaction error: %v", err)\n    }\n\n    hash, err := client.SendTransaction(context.Background(), tx)\n    if err != nil {\n        log.Fatalf("send transaction error: %v", err)\n    }\n\n    fmt.Println(hash.String())\n}\n')),(0,a.mdx)("h3",{id:"send-ckb-with-multiple-inputs"},"Send CKB with Multiple Inputs"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "context"\n    "encoding/hex"\n    "fmt"\n    "log"\n\n    "github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/transaction"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n)\n\nfunc main() {\n    client, err := rpc.Dial("http://127.0.0.1:8114")\n    if err != nil {\n        log.Fatalf("create rpc client error: %v", err)\n    }\n\n    keyA, err := secp256k1.HexToKey(PRIVATE_KEY_A)\n    if err != nil {\n        log.Fatalf("import private key error: %v", err)\n    }\n\n    keyB, err := secp256k1.HexToKey(PRIVATE_KEY_B)\n    if err != nil {\n        log.Fatalf("import private key error: %v", err)\n    }\n\n    systemScripts, err := utils.NewSystemScripts(client)\n    if err != nil {\n        log.Fatalf("load system script error: %v", err)\n    }\n\n    toAddress, _ := hex.DecodeString("f96b6700df60fd6d84a2e17a5c5e4f603a5eec5d")\n\n    tx := transaction.NewSecp256k1SingleSigTx(systemScripts)\n    tx.Outputs = append(tx.Outputs, &types.CellOutput{\n        Capacity: 499999996000,\n        Lock: &types.Script{\n            CodeHash: types.HexToHash("0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8"),\n            HashType: types.HashTypeType,\n            Args:     toAddress,\n        },\n    })\n    tx.OutputsData = [][]byte{{}}\n\n    groupB, witnessArgsB, err := transaction.AddInputsForTransaction(tx, []*types.CellInput{\n        {\n            Since: 0,\n            PreviousOutput: &types.OutPoint{\n                TxHash: types.HexToHash("0xf56d73acbe235889e726366aa4fa09b3f0b51138c294645bb30912fb872837a5"),\n                Index:  0,\n            },\n        },\n        {\n            Since: 0,\n            PreviousOutput: &types.OutPoint{\n                TxHash: types.HexToHash("0x8e6d818c6e07e6cbd9fca51294030494ee23dc388d7f5276ba50b938d02cc015"),\n                Index:  0,\n            },\n        },\n    })\n    if err != nil {\n        log.Fatalf("add inputs to transaction error: %v", err)\n    }\n\n    groupA, witnessArgsA, err := transaction.AddInputsForTransaction(tx, []*types.CellInput{\n        {\n            Since: 0,\n            PreviousOutput: &types.OutPoint{\n                TxHash: types.HexToHash("0xf56d73acbe235889e726366aa4fa09b3f0b51138c294645bb30912fb872837a5"),\n                Index:  1,\n            },\n        },\n    })\n    if err != nil {\n        log.Fatalf("add inputs to transaction error: %v", err)\n    }\n\n    err = transaction.SingleSignTransaction(tx, groupB, witnessArgsB, keyB)\n    if err != nil {\n        log.Fatalf("sign transaction error: %v", err)\n    }\n\n    err = transaction.SingleSignTransaction(tx, groupA, witnessArgsA, keyA)\n    if err != nil {\n        log.Fatalf("sign transaction error: %v", err)\n    }\n\n    hash, err := client.SendTransaction(context.Background(), tx)\n    if err != nil {\n        log.Fatalf("send transaction error: %v", err)\n    }\n\n    fmt.Println(hash.String())\n}\n')),(0,a.mdx)("h3",{id:"send-ckb-with-multiple-inputs-and-multisig"},"Send CKB with Multiple Inputs and Multisig"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "context"\n    "fmt"\n    "log"\n\n    "github.com/nervosnetwork/ckb-sdk-go/address"\n    "github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/transaction"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n)\n\nfunc main() {\n    client, err := rpc.Dial("http://127.0.0.1:8114")\n    if err != nil {\n        log.Fatalf("create rpc client error: %v", err)\n    }\n\n    keyA, _ := secp256k1.HexToKey(PRIVATE_KEY_A)\n    keyB, _ := secp256k1.HexToKey(PRIVATE_KEY_B)\n    keyC, _ := secp256k1.HexToKey(PRIVATE_KEY_C)\n\n    systemScripts, err := utils.NewSystemScripts(client)\n    if err != nil {\n        log.Fatalf("load system script error: %v", err)\n    }\n\n    to, _ := address.Parse("ckt1qyqwmndf2yl6qvxwgvyw9yj95gkqytgygwasdjf6hm")\n    changeScript, changeSerialize, err := address.GenerateSecp256k1MultisigScript(0, 2, [][]byte{\n        keyA.PubKey(),\n        keyB.PubKey(),\n        keyC.PubKey(),\n    })\n\n    if err != nil {\n        log.Fatalf("load system script error: %v", err)\n    }\n\n    tx := transaction.NewSecp256k1MultiSigTx(systemScripts)\n    tx.Outputs = append(tx.Outputs, &types.CellOutput{\n        Capacity: 300000000000,\n        Lock:     to.Script,\n    })\n    tx.Outputs = append(tx.Outputs, &types.CellOutput{\n        Capacity: 399999994000,\n        Lock:     changeScript,\n    })\n    tx.OutputsData = [][]byte{{}, {}}\n\n    group, witnessArgs, err := transaction.AddInputsForTransaction(tx, []*types.CellInput{\n        {\n            Since: 0,\n            PreviousOutput: &types.OutPoint{\n                TxHash: types.HexToHash("0xccb33a76b5322ff2841511ef10606b6bb207f6eef5a687f14f8c7fa5da8a7cb2"),\n                Index:  0,\n            },\n        },\n        {\n            Since: 0,\n            PreviousOutput: &types.OutPoint{\n                TxHash: types.HexToHash("0x06a49393423c1be0a48d422fa60951bdb847d56753915f321c26906a6ba1dd8a"),\n                Index:  0,\n            },\n        },\n    })\n    if err != nil {\n        log.Fatalf("add inputs to transaction error: %v", err)\n    }\n\n    err = transaction.MultiSignTransaction(tx, group, witnessArgs, changeSerialize, keyA, keyB)\n    if err != nil {\n        log.Fatalf("sign transaction error: %v", err)\n    }\n\n    hash, err := client.SendTransaction(context.Background(), tx)\n    if err != nil {\n        log.Fatalf("send transaction error: %v", err)\n    }\n\n    fmt.Println(hash.String())\n}\n')),(0,a.mdx)("h3",{id:"send-ckb-with-multiple-inputs-and-hybirdsig"},"Send CKB with Multiple Inputs and Hybirdsig"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "context"\n    "fmt"\n    "log"\n\n    "github.com/nervosnetwork/ckb-sdk-go/address"\n    "github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/transaction"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n)\n\nfunc main() {\n    client, err := rpc.Dial("http://127.0.0.1:8114")\n    if err != nil {\n        log.Fatalf("create rpc client error: %v", err)\n    }\n\n    key, _ := secp256k1.HexToKey(PRIVATE_KEY)\n\n    keyA, _ := secp256k1.HexToKey(PRIVATE_KEY_A)\n    keyB, _ := secp256k1.HexToKey(PRIVATE_KEY_B)\n    keyC, _ := secp256k1.HexToKey(PRIVATE_KEY_C)\n\n    systemScripts, err := utils.NewSystemScripts(client)\n    if err != nil {\n        log.Fatalf("load system script error: %v", err)\n    }\n\n    to, _ := address.Parse("ckt1qyqt705jmfy3r7jlvg88k87j0sksmhgduazq7x5l8k")\n    changeScript, changeSerialize, err := address.GenerateSecp256k1MultisigScript(0, 2, [][]byte{\n        keyA.PubKey(),\n        keyB.PubKey(),\n        keyC.PubKey(),\n    })\n\n    if err != nil {\n        log.Fatalf("load system script error: %v", err)\n    }\n\n    tx := transaction.NewSecp256k1HybirdSigTx(systemScripts)\n    tx.Outputs = append(tx.Outputs, &types.CellOutput{\n        Capacity: 500000000000,\n        Lock:     to.Script,\n    })\n    tx.Outputs = append(tx.Outputs, &types.CellOutput{\n        Capacity: 199999992000,\n        Lock:     changeScript,\n    })\n    tx.OutputsData = [][]byte{{}, {}}\n\n    group, witnessArgs, err := transaction.AddInputsForTransaction(tx, []*types.CellInput{\n        {\n            Since: 0,\n            PreviousOutput: &types.OutPoint{\n                TxHash: types.HexToHash("0xcb905a3b304b23200225def794c4ce165d93eead77197724680b4ec067b43803"),\n                Index:  0,\n            },\n        },\n    })\n    if err != nil {\n        log.Fatalf("add inputs to transaction error: %v", err)\n    }\n\n    group1, witnessArgs1, err := transaction.AddInputsForTransaction(tx, []*types.Cell{\n        {\n            Since: 0,\n            PreviousOutput: &types.OutPoint{\n                TxHash: types.HexToHash("0xcb905a3b304b23200225def794c4ce165d93eead77197724680b4ec067b43803"),\n                Index:  1,\n            },\n        },\n    })\n    if err != nil {\n        log.Fatalf("add inputs to transaction error: %v", err)\n    }\n\n    err = transaction.SingleSignTransaction(tx, group, witnessArgs, key)\n    if err != nil {\n        log.Fatalf("sign transaction error: %v", err)\n    }\n\n    err = transaction.MultiSignTransaction(tx, group1, witnessArgs1, changeSerialize, keyA, keyB)\n    if err != nil {\n        log.Fatalf("sign transaction error: %v", err)\n    }\n\n    hash, err := client.SendTransaction(context.Background(), tx)\n    if err != nil {\n        log.Fatalf("send transaction error: %v", err)\n    }\n\n    fmt.Println(hash.String())\n}\n')),(0,a.mdx)("h3",{id:"collect-cells"},"Collect Cells"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "encoding/hex"\n    "fmt"\n    "log"\n\n    "github.com/nervosnetwork/ckb-sdk-go/collector"\n    "github.com/nervosnetwork/ckb-sdk-go/indexer"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n)\n\nfunc main() {\n    client, err := rpc.DialWithIndexer("http://localhost:8114", "http://localhost:8116")\n    if err != nil {\n        log.Fatalf("create rpc client error: %v", err)\n    }\n    args, _ := hex.DecodeString("edcda9513fa030ce4308e29245a22c022d0443bb")\n    searchKey := &indexer.SearchKey{\n        Script: &types.Script{\n            CodeHash: types.HexToHash("0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8"),\n            HashType: types.HashTypeType,\n            Args:     args,\n        },\n        ScriptType: indexer.ScriptTypeLock,\n    }\n    c := collector.NewLiveCellCollector(client, searchKey, indexer.SearchOrderAsc, indexer.SearchLimit, "")\n    iterator, err := c.Iterator()\n    if err != nil {\n        log.Fatalf("collect cell error: %v", err)\n    }\n    var cells []*indexer.LiveCell\n    for iterator.HasNext() {\n        liveCell, err := iterator.CurrentItem()\n        if err != nil {\n            log.Fatalf("get cell error: %v", err)\n        }\n        cells = append(cells, liveCell)\n        err = iterator.Next()\n        if err != nil {\n            log.Fatalf("iterat error: %v", err)\n        }\n    }\n    fmt.Println(cells)\n}\n')),(0,a.mdx)("h3",{id:"collect-cells-with-filter"},"Collect Cells with Filter"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "encoding/hex"\n    "fmt"\n    "github.com/ethereum/go-ethereum/common"\n    "github.com/nervosnetwork/ckb-sdk-go/collector"\n    "github.com/nervosnetwork/ckb-sdk-go/indexer"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n    "log"\n)\n\nfunc main() {\n    client, err := rpc.DialWithIndexer("http://localhost:8114", "http://localhost:8116")\n    if err != nil {\n        log.Fatalf("create rpc client error: %v", err)\n    }\n    args, _ := hex.DecodeString("edcda9513fa030ce4308e29245a22c022d0443bb")\n    systemScripts, _ := utils.NewSystemScripts(client)\n    searchKey := &indexer.SearchKey{\n        Script: &types.Script{\n            CodeHash: types.HexToHash("0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8"),\n            HashType: types.HashTypeType,\n            Args:     args,\n        },\n        ScriptType: indexer.ScriptTypeLock,\n        Filter: &indexer.CellsFilter{\n            Script: &types.Script{\n                CodeHash: systemScripts.SUDTCell.CellHash,\n                HashType: systemScripts.SUDTCell.HashType,\n                Args:     common.FromHex("0x683574c1275eb5cfe6f8745faa375b08bf773223fd8d2b4db28dbd90a27f1586"),\n            },\n            OutputDataLenRange:  &[2]uint64{0, 14200000001},\n            OutputCapacityRange: &[2]uint64{0, 14200000001},\n            BlockRange:          &[2]uint64{46843, 46844},\n        },\n    }\n    c := collector.NewLiveCellCollector(client, searchKey, indexer.SearchOrderAsc, indexer.SearchLimit, "")\n    iterator, err := c.Iterator()\n    if err != nil {\n        log.Fatalf("collect cell error: %v", err)\n    }\n    var cells []*indexer.LiveCell\n    for iterator.HasNext() {\n        liveCell, err := iterator.CurrentItem()\n        if err != nil {\n            log.Fatalf("get cell error: %v", err)\n        }\n        cells = append(cells, liveCell)\n        err = iterator.Next()\n        if err != nil {\n            log.Fatalf("iterat error: %v", err)\n        }\n    }\n    fmt.Println(cells)\n}\n')),(0,a.mdx)("h3",{id:"collect-cells-and-filter-out-immature-cells"},"Collect Cells and Filter Out Immature Cells"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "context"\n    "encoding/hex"\n    "fmt"\n    "github.com/ethereum/go-ethereum/common"\n    "github.com/nervosnetwork/ckb-sdk-go/collector"\n    "github.com/nervosnetwork/ckb-sdk-go/indexer"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n    "log"\n)\n\nfunc main() {\n    client, err := rpc.DialWithIndexer("http://localhost:8114", "http://localhost:8116")\n    if err != nil {\n        log.Fatalf("create rpc client error: %v", err)\n    }\n    args, _ := hex.DecodeString("edcda9513fa030ce4308e29245a22c022d0443bb")\n    maxMatureBlockNumber, err := utils.GetMaxMatureBlockNumber(client, context.Background())\n    searchKey := &indexer.SearchKey{\n        Script: &types.Script{\n            CodeHash: types.HexToHash("0x9bd7e06f3ecf4be0f2fcd2188b23f1b9fcc88e5d4b65a8637b17723bbda3cce8"),\n            HashType: types.HashTypeType,\n            Args:     args,\n        },\n        ScriptType: indexer.ScriptTypeLock,\n    }\n    c := collector.NewLiveCellCollector(client, searchKey, indexer.SearchOrderAsc, indexer.SearchLimit, "")\n    iterator, err := c.Iterator()\n    if err != nil {\n        log.Fatalf("collect cell error: %v", err)\n    }\n    var cells []*indexer.LiveCell\n    for iterator.HasNext() {\n        liveCell, err := iterator.CurrentItem()\n        if err != nil {\n            log.Fatalf("get cell error: %v", err)\n        }\n        if utils.IsMature(liveCell, maxMatureBlockNumber) {\n            cells = append(cells, liveCell)\n        }\n\n        err = iterator.Next()\n        if err != nil {\n            log.Fatalf("iterat error: %v", err)\n        }\n    }\n    fmt.Println(len(cells))\n}\n')),(0,a.mdx)("h3",{id:"create-a-payment"},"Create a Payment"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "fmt"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n    "log"\n\n    "github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1"\n    "github.com/nervosnetwork/ckb-sdk-go/payment"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n)\n\nfunc main() {\n    client, err := rpc.DialWithIndexer("http://localhost:8114", "http://localhost:8116")\n    if err != nil {\n        log.Fatalf("create rpc client error: %v", err)\n    }\n\n    key, err := secp256k1.HexToKey(PRIVATE_KEY)\n    if err != nil {\n        log.Fatalf("import private key error: %v", err)\n    }\n\n    pay, err := payment.NewPayment("ckt1qyqwmndf2yl6qvxwgvyw9yj95gkqytgygwasdjf6hm",\n        "ckt1qyqt705jmfy3r7jlvg88k87j0sksmhgduazq7x5l8k", 100000000000, 1000)\n    if err != nil {\n        log.Fatalf("create payment error: %v", err)\n    }\n    systemScripts, _ := utils.NewSystemScripts(client)\n    _, err = pay.GenerateTx(client, systemScripts)\n    if err != nil {\n        log.Fatalf("create transaction error: %v", err)\n    }\n\n    _, err = pay.Sign(key)\n    if err != nil {\n        log.Fatalf("sign transaction error: %v", err)\n    }\n\n    hash, err := pay.Send(client)\n\n    fmt.Println(hash)\n}\n')),(0,a.mdx)("h3",{id:"deposit-ckb-to-dao"},"Deposit CKB to DAO"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "context"\n    "fmt"\n    "log"\n\n    "github.com/nervosnetwork/ckb-sdk-go/address"\n    "github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1"\n    "github.com/nervosnetwork/ckb-sdk-go/dao"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/transaction"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n)\n\nfunc main() {\n    client, err := rpc.Dial("http://127.0.0.1:8114")\n    if err != nil {\n        log.Fatalf("create rpc client error: %v", err)\n    }\n\n    key, err := secp256k1.HexToKey(PRIVATE_KEY)\n    if err != nil {\n        log.Fatalf("import private key error: %v", err)\n    }\n\n    systemScripts, err := utils.NewSystemScripts(client)\n    if err != nil {\n        log.Fatalf("load system script error: %v", err)\n    }\n\n    deposit := dao.NewDeposit(systemScripts, false)\n\n    to, _ := address.Parse("ckt1qyqwmndf2yl6qvxwgvyw9yj95gkqytgygwasdjf6hm")\n    change, _ := key.Script(systemScripts)\n\n    err = deposit.AddDaoOutput(systemScripts, to.Script, 400000000000)\n    if err != nil {\n        log.Fatalf("add dao output error: %v", err)\n    }\n    err = deposit.AddOutput(change, 99999997000)\n    if err != nil {\n        log.Fatalf("add output error: %v", err)\n    }\n\n    group, witnessArgs, err := transaction.AddInputsForTransaction(deposit.Transaction, []*types.CellInput{\n        {\n            Since: 0,\n            PreviousOutput: &types.OutPoint{\n                TxHash: types.HexToHash("0xaa10f51bc6ee60e851d17e3fffefc950d6dc1d2cd77e15699c3da5e837219764"),\n                Index:  1,\n            },\n        },\n    })\n    if err != nil {\n        log.Fatalf("add inputs to transaction error: %v", err)\n    }\n\n    err = transaction.SingleSignTransaction(deposit.Transaction, group, witnessArgs, key)\n    if err != nil {\n        log.Fatalf("sign transaction error: %v", err)\n    }\n\n    hash, err := client.SendTransaction(context.Background(), deposit.Transaction)\n    if err != nil {\n        log.Fatalf("send transaction error: %v", err)\n    }\n    fmt.Println(hash.String())\n}\n')),(0,a.mdx)("h3",{id:"withdraw-ckb-from-dao-phase-1"},"Withdraw CKB from DAO (Phase 1)"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "context"\n    "fmt"\n    "log"\n\n    "github.com/nervosnetwork/ckb-sdk-go/address"\n    "github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1"\n    "github.com/nervosnetwork/ckb-sdk-go/dao"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/transaction"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n)\n\nfunc main() {\n    client, err := rpc.Dial("http://127.0.0.1:8114")\n    if err != nil {\n        log.Fatalf("create rpc client error: %v", err)\n    }\n\n    key, err := secp256k1.HexToKey(PRIVATE_KEY)\n    if err != nil {\n        log.Fatalf("import private key error: %v", err)\n    }\n\n    systemScripts, err := utils.NewSystemScripts(client)\n    if err != nil {\n        log.Fatalf("load system script error: %v", err)\n    }\n\n    withdraw := dao.NewWithdrawPhase1(systemScripts, false)\n\n    ownder, _ := address.Parse("ckt1qyqwmndf2yl6qvxwgvyw9yj95gkqytgygwasdjf6hm")\n    change, _ := key.Script(systemScripts)\n\n    index, err := withdraw.AddDaoDepositTick(client, &types.Cell{\n        BlockHash: types.HexToHash("0x386bafd53bade6bf769c9b10f545e31ea744cb6ebc5f1c8178f307e8dce157a6"),\n        Capacity:  400000000000,\n        Lock:      ownder.Script,\n        Type: &types.Script{\n            CodeHash: types.HexToHash("0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e"),\n            HashType: types.HashTypeType,\n            Args:     []byte{},\n        },\n        OutPoint: &types.OutPoint{\n            TxHash: types.HexToHash("0xc8cfe3d09b0a50fd2df3bd79dbadca23b7eb1f58087942d7266abea93459fce1"),\n            Index:  0,\n        },\n    })\n    if err != nil {\n        log.Fatalf("add dao deposit tick error: %v", err)\n    }\n\n    err = withdraw.AddOutput(change, 99999995000)\n    if err != nil {\n        log.Fatalf("add output error: %v", err)\n    }\n\n    group, witnessArgs, err := transaction.AddInputsForTransaction(withdraw.Transaction, []*types.CellInput{\n        {\n            Since: 0,\n            PreviousOutput: &types.OutPoint{\n                TxHash: types.HexToHash("0xc8cfe3d09b0a50fd2df3bd79dbadca23b7eb1f58087942d7266abea93459fce1"),\n                Index:  1,\n            },\n        },\n    })\n    if err != nil {\n        log.Fatalf("add inputs to transaction error: %v", err)\n    }\n\n    var groups []int\n    groups = append(groups, index)\n    groups = append(groups, group...)\n\n    // sign dao input\n    err = transaction.SingleSignTransaction(withdraw.Transaction, groups, witnessArgs, key)\n    if err != nil {\n        log.Fatalf("sign dao transaction error: %v", err)\n    }\n\n    hash, err := client.SendTransaction(context.Background(), withdraw.Transaction)\n    if err != nil {\n        log.Fatalf("send transaction error: %v", err)\n    }\n    fmt.Println(hash.String())\n}\n')),(0,a.mdx)("h3",{id:"withdraw-ckb-from-dao-phase-2"},"Withdraw CKB from DAO (Phase 2)"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "context"\n    "fmt"\n    "log"\n\n    "github.com/nervosnetwork/ckb-sdk-go/address"\n    "github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1"\n    "github.com/nervosnetwork/ckb-sdk-go/dao"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/transaction"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n)\n\nfunc main() {\n    client, err := rpc.Dial("http://127.0.0.1:8114")\n    if err != nil {\n        log.Fatalf("create rpc client error: %v", err)\n    }\n\n    key, err := secp256k1.HexToKey(PRIVATE_KEY)\n    if err != nil {\n        log.Fatalf("import private key error: %v", err)\n    }\n\n    systemScripts, err := utils.NewSystemScripts(client)\n    if err != nil {\n        log.Fatalf("load system script error: %v", err)\n    }\n\n    withdraw := dao.NewWithdrawPhase2(systemScripts, false)\n\n    ownder, _ := address.Parse("ckt1qyqwmndf2yl6qvxwgvyw9yj95gkqytgygwasdjf6hm")\n\n    index, witnessArgs, err := withdraw.AddDaoWithdrawTick(client, &types.Cell{\n        BlockHash: types.HexToHash("0x386bafd53bade6bf769c9b10f545e31ea744cb6ebc5f1c8178f307e8dce157a6"),\n        Capacity:  400000000000,\n        Lock:      ownder.Script,\n        Type: &types.Script{\n            CodeHash: types.HexToHash("0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e"),\n            HashType: types.HashTypeType,\n            Args:     []byte{},\n        },\n        OutPoint: &types.OutPoint{\n            TxHash: types.HexToHash("0xc8cfe3d09b0a50fd2df3bd79dbadca23b7eb1f58087942d7266abea93459fce1"),\n            Index:  0,\n        },\n    }, &types.Cell{\n        BlockHash: types.HexToHash("0xf0b88e5ca0397c761dc76fa2dd953f203b90c47a7c8199b45ac0d90efb044233"),\n        Capacity:  400000000000,\n        Lock:      ownder.Script,\n        Type: &types.Script{\n            CodeHash: types.HexToHash("0x82d76d1b75fe2fd9a27dfbaa65a039221a380d76c926f378d3f81cf3e7e13f2e"),\n            HashType: types.HashTypeType,\n            Args:     []byte{},\n        },\n        OutPoint: &types.OutPoint{\n            TxHash: types.HexToHash("0xc72d7bffcc3302f8267fecb103f655e63e7b94b6f6e863cd6a0130ffec296684"),\n            Index:  0,\n        },\n    }, 2000)\n    if err != nil {\n        log.Fatalf("add dao deposit tick error: %v", err)\n    }\n\n    // sign dao input\n    err = transaction.SingleSignTransaction(withdraw.Transaction, []int{index}, witnessArgs, key)\n    if err != nil {\n        log.Fatalf("sign dao transaction error: %v", err)\n    }\n\n    hash, err := client.SendTransaction(context.Background(), withdraw.Transaction)\n    if err != nil {\n        log.Fatalf("send transaction error: %v", err)\n    }\n    fmt.Println(hash.String())\n}\n')),(0,a.mdx)("h3",{id:"issue-cheque-cells"},"Issue cheque Cells"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "fmt"\n    "github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1"\n    "github.com/nervosnetwork/ckb-sdk-go/payment"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n    "log"\n)\n\nfunc main() {\n    client, err := rpc.DialWithIndexer("http://localhost:8114", "http://localhost:8116")\n    if err != nil {\n        log.Fatal(err)\n    }\n    systemScripts, _ := utils.NewSystemScripts(client)\n    c, err := payment.NewCheque("ckt1qyqrhmy67jcn7rvft3d2em3sc78pzn02ha4s728fvg", "ckt1qyqrd7cglncpwfzn73qwhed5mvjnrl8v6nvq2cpmd8", "TOKEN_ID", "10000000000000", 1000, systemScripts)\n    if err != nil {\n        fmt.Println(err)\n    }\n    _, err = c.GenerateIssuingChequeUnsignedTx(client)\n    if err != nil {\n        log.Fatal(err)\n    }\n    key, err := secp256k1.HexToKey(PRIVATE_KEY)\n    if err != nil {\n        log.Fatalf("import private key error: %v", err)\n    }\n    _, err = c.SignTx(key)\n    if err != nil {\n        log.Fatal(err)\n    }\n    hash, err := c.Send(client)\n    if err != nil {\n        log.Fatal(err)\n    }\n    fmt.Println(hash)\n}\n')),(0,a.mdx)("h3",{id:"claim-cheque-cells"},"Claim cheque Cells"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "fmt"\n    "github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1"\n    "github.com/nervosnetwork/ckb-sdk-go/payment"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n    "log"\n)\n\nfunc main() {\n    client, err := rpc.DialWithIndexer("http://localhost:8114", "http://localhost:8116")\n    if err != nil {\n        log.Fatal(err)\n    }\n    systemScripts, _ := utils.NewSystemScripts(client)\n    c, err := payment.NewClaimCheque("ckt1qyqrd7cglncpwfzn73qwhed5mvjnrl8v6nvq2cpmd8", "TOKEN_ID", 1000, systemScripts)\n    if err != nil {\n        fmt.Println(err)\n    }\n    _, err = c.GenerateClaimChequeUnsignedTx(client)\n    if err != nil {\n        log.Fatal(err)\n    }\n    key, err := secp256k1.HexToKey(PRIVATE_KEY)\n    if err != nil {\n        log.Fatalf("import private key error: %v", err)\n    }\n    _, err = c.SignTx(key)\n    if err != nil {\n        log.Fatal(err)\n    }\n    hash, err := c.Send(client)\n    if err != nil {\n        log.Fatal(err)\n    }\n    fmt.Println(hash)\n}\n')),(0,a.mdx)("h3",{id:"withdraw-cheque-cells"},"Withdraw cheque Cells"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "fmt"\n    "github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1"\n    "github.com/nervosnetwork/ckb-sdk-go/payment"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "github.com/nervosnetwork/ckb-sdk-go/types"\n    "github.com/nervosnetwork/ckb-sdk-go/utils"\n    "log"\n)\n\nfunc main() {\n    client, err := rpc.DialWithIndexer("http://localhost:8114", "http://localhost:8116")\n    if err != nil {\n        log.Fatal(err)\n    }\n    systemScripts, _ := utils.NewSystemScripts(client)\n    c, err := payment.NewWithdrawCheque("ckt1qyqrhmy67jcn7rvft3d2em3sc78pzn02ha4s728fvg", "ckt1qyqrd7cglncpwfzn73qwhed5mvjnrl8v6nvq2cpmd8", "TOKEN_ID", "10000000000000", 1000, systemScripts)\n    if err != nil {\n        fmt.Println(err)\n    }\n    _, err = c.GenerateWithdrawChequeUnsignedTx(client)\n    if err != nil {\n        log.Fatal(err)\n    }\n    key, err := secp256k1.HexToKey(PRIVATE_KEY)\n    if err != nil {\n        log.Fatalf("import private key error: %v", err)\n    }\n    _, err = c.SignTx(key)\n    if err != nil {\n        log.Fatal(err)\n    }\n    hash, err := c.Send(client)\n    if err != nil {\n        log.Fatal(err)\n    }\n    fmt.Println(hash)\n}\n')),(0,a.mdx)("h3",{id:"transfer-sudt"},"Transfer SUDT"),(0,a.mdx)("pre",null,(0,a.mdx)("code",{parentName:"pre",className:"language-go"},'package main\n\nimport (\n    "github.com/nervosnetwork/ckb-sdk-go/address"\n    "github.com/nervosnetwork/ckb-sdk-go/crypto"\n    "github.com/nervosnetwork/ckb-sdk-go/crypto/secp256k1"\n    "github.com/nervosnetwork/ckb-sdk-go/payment"\n    "github.com/nervosnetwork/ckb-sdk-go/rpc"\n    "log"\n)\n\nfunc main() {\n    uuid := "0x683574c1275eb5cfe6f8745faa375b08bf773223fd8d2b4db28dbd90a27f1586"\n    receiverInfo := make(map[string]string)\n    receiverInfo["ckt1qyqrhmy67jcn7rvft3d2em3sc78pzn02ha4s728fvg"] = "10000000000000"\n    receiverInfo["ckt1qyqr4s293mq0f0rhtejta5drx66a95c5wc6sl2dsmk"] = "10000000000000"\n    receiverInfo["ckt1qyqxpe0qj6qxk95zla6v06adej9enmnzqvaqvc07gr"] = "10000000000000"\n    senderAddresses := []string{"ckt1qyqvgpevpyh45a7a4t0l5n7apqduw7y9y99qpyrsd5", "ckt1qyqrd7cglncpwfzn73qwhed5mvjnrl8v6nvq2cpmd8"}\n    ckbPayerAddress := "ckt1qyqrhmy67jcn7rvft3d2em3sc78pzn02ha4s728fvg"\n    ckbChangeAddress := "ckt1qyqrhmy67jcn7rvft3d2em3sc78pzn02ha4s728fvg"\n    sudtChangeAddress := "ckt1qyqrhmy67jcn7rvft3d2em3sc78pzn02ha4s728fvg"\n    keyInfo := map[string]string{\n        "ckt1qyqvgpevpyh45a7a4t0l5n7apqduw7y9y99qpyrsd5": "PRIVATE KEY",\n        "ckt1qyqrd7cglncpwfzn73qwhed5mvjnrl8v6nvq2cpmd8": "PRIVATE KEY",\n        "ckt1qyqrhmy67jcn7rvft3d2em3sc78pzn02ha4s728fvg": "PRIVATE KEY",\n    }\n    client, err := rpc.DialWithIndexer("http://localhost:8114", "http://localhost:8116")\n    if err != nil {\n        log.Fatal(err)\n    }\n    systemScripts, _ := utils.NewSystemScripts(client)\n    sudt, err := payment.NewSudt(senderAddresses, receiverInfo, ckbPayerAddress, ckbChangeAddress, sudtChangeAddress, uuid, 1000, systemScripts)\n    if err != nil {\n        log.Println(err)\n    }\n    _, err = sudt.GenerateTransferSudtUnsignedTx(client)\n    if err != nil {\n        log.Fatal(err)\n    }\n    //fmt.Println(rpc.TransactionString(tx))\n    keys := make(map[string]crypto.Key)\n    for addr, sk := range keyInfo {\n        parsedAddr, err := address.Parse(addr)\n        if err != nil {\n            log.Fatal(err)\n        }\n        lockHash, err := parsedAddr.Script.Hash()\n        if err != nil {\n            log.Fatal(err)\n        }\n        key, err := secp256k1.HexToKey(sk)\n        if err != nil {\n            log.Fatal(err)\n        }\n        keys[lockHash.String()] = key\n    }\n    tx, err := sudt.SignTx(keys)\n    log.Println(rpc.TransactionString(tx))\n    if err != nil {\n        log.Fatal(err)\n    }\n    hash, err := sudt.Send(client)\n    if err != nil {\n        log.Fatal(err)\n    }\n    log.Println(hash)\n}\n')))}g.isMDXComponent=!0},13693:function(e,n,r){r.r(n),n.default={tabItem:"tabItem_vU9c"}}}]);