<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.8">
<link rel="alternate" type="application/rss+xml" href="/docsite/blog/rss.xml" title="Nervos CKB Developer Documentation Hub RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docsite/blog/atom.xml" title="Nervos CKB Developer Documentation Hub Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Nervos CKB Developer Documentation Hub" href="/docsite/opensearch.xml"><title data-react-helmet="true">Transactions | Nervos CKB Developer Documentation Hub</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://xying21.github.com/docsite/docs/develop/tutorial-zero2ckb-transaction"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Transactions | Nervos CKB Developer Documentation Hub"><link data-react-helmet="true" rel="shortcut icon" href="/docsite/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://xying21.github.com/docsite/docs/develop/tutorial-zero2ckb-transaction"><link data-react-helmet="true" rel="alternate" href="https://xying21.github.com/docsite/docs/develop/tutorial-zero2ckb-transaction" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://xying21.github.com/docsite/docs/develop/tutorial-zero2ckb-transaction" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/docsite/assets/css/styles.08a746ce.css">
<link rel="preload" href="/docsite/assets/js/runtime~main.7d5934c5.js" as="script">
<link rel="preload" href="/docsite/assets/js/main.fc76167a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docsite/"><div class="navbar__logo"><img src="/docsite/img/whitecryptape.png" alt="cryptape" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/docsite/img/whitecryptape.png" alt="cryptape" class="themedImage_TMUO themedImage--dark_uzRr"></div></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docsite/docs/basics/nervosckb">Learn</a><a class="navbar__item navbar__link" href="/docsite/docs/develop/getstarted">Develop</a><a class="navbar__item navbar__link" href="/docsite/blog">Blog</a><a href="https://discord.gg/WsuVsZ2F6Y" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Support<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docsite/docs/develop/getstarted">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Preparation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Tutorials</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Touch CKB Basics</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docsite/docs/develop/tutorial-zero2ckb-basic">Chain Information</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docsite/docs/develop/tutorial-zero2ckb-transaction">Transactions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Hello Lumos</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docsite/docs/develop/portingEthDapp">Porting an Existing Ethereum DApp To Polyjuice</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Tools</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_eoK2"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_e+kA"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="theme-doc-markdown markdown"><header><h1>Transactions</h1></header><div id="how-to-send-a-tx"><div style="width:100%;margin-top:20px;text-align:left"><h3 style="color:#3CC68A">发送一笔交易</h3><p>我们将在本节内容学会并亲自动手完成一笔最基础的转账交易。</p><p>在开始之前，让我们在黑板上再次重写一遍：</p><blockquote style="background:#f9f9f9;border-left:10px solid #3CC68A;margin:1.5em 10px;padding:1em 2em;color:black">一笔CKB的交易，无非是消费一些已有的 live cell，去创造出另一些新的 live cell。</blockquote><p>同时，因为 CKB 采用的是“链下计算、链上确认”的设计，所以我们在转账的时候，甚至可以采用手动拼贴交易的方式，去完成一笔转账操作。</p><p>只要我们事先拟好交易的内容（也就是注明这笔交易要消费哪些cell、创造出什么样的新cell），然后用相应的私钥对交易进行签名， 当这笔交易被提交到链上，只要验证通过、签名有效，那么交易就会被打包完成。</p><p>这种手动拼贴交易的方式意味着什么呢？</p><p>在 CKB 这种体系下，其实我们人肉组成了一个 layer2 网络。</p><div style="font-size:14px;color:gray;margin:20px"><p>想象现在你有一位朋友住在亚马逊丛林里，他独自生活，身边只有一台离线的电脑，没有网络，与世隔绝。</p><p>某天下午他打猎归来，突然想起来还欠你一点钱，他打开电脑，想转给你 1 万个 CKB 还债。</p><p>尽管没有网络，他还是把转账交易的内容写在了一张纸上，然后在电脑里输入自己的私钥，计算出了这笔转账相应的签名，最后把签名也附在了纸上。</p><p>过了半个月，当有信差来访时，他托人把这张纸邮寄到中国，又过了半个月，信纸终于送到了你的手上。</p><p>你看着信纸，交易确实指明创造 1 万 CKB 的 cell 给你，你决定把这笔交易提交到 CKB 主网上。 主网验证附上的签名有效，于是交易完成，你的账户里多了一万个CKB，债务两清了。</p><p>你和亚马逊丛林的朋友共同组成了一个包含 2 个节点的 layer2 网络，虽然这个网络的吞吐量只有 1 笔交易/每月。</p></div><p>尽管 CKB 目前已经有了各种各样的工具，帮助你自动构建交易、完成转账、部署合约，等等， 但接下来，我们还是会延续亚马逊朋友的这种方法，来实现一笔普通的转账交易。<br><br>目的是使用手动拼接交易的方式，让你更深刻的理解 CKB cell 的工作原理。</p><p>我们将使用 JSON 格式来手动拼接交易。</p><h4 id="tx-input" style="color:#3CC68A">交易的 INPUT</h4><p>下面是钱包 1 的 4 个 live cell，直接把 cell 拖到下面的框中，看看自动生成的 input 是什么样子的。</p><div style="text-align:center;border:1px solid gray;clear:both"><button style="padding:0.5rem 1rem;font-size:12px;color:white;border-radius:6px;border:1px solid rgb(131,196,220);outline:none;background-color:rgb(131,196,220);cursor:pointer"><div style="opacity:1">Fetch</div></button><p style="clear:both"></p></div><div style="height:200px;border:1px solid gray;text-align:left;padding:0 10px;overflow-y:scroll"><div><pre contenteditable="false" style="outline:0px solid transparent;overflow:scroll;border:0">{
  &quot;cell_deps&quot;: [],
  &quot;inputs&quot;: []
}</pre></div></div><div style="font-size:14px;color:gray;margin:20px"><p>你可能看到了，input 中的 cell 是以 <code style="background:white;color:gray;padding:2px;border-radius:5px">previous_output</code> 的形式出现的， 传入的是 tx_hash 和 index 组成的 outpoint，相当于是对 cell 的一个索引，或者像 cell 的一个指针，通过 outpoint 我们找到想要消费的 cell。</p><p>inputs 中还有一个字段叫 <code style="background:white;color:gray;padding:2px;border-radius:5px">since</code>，它是用来控制时间的，我们暂且不必管它。 </p><p>除了inputs，还有一个字段叫 <code style="background:white;color:gray;padding:2px;border-radius:5px">cell_deps</code>，它是一笔交易中需要依赖的 cell， 也是以 outpoint 这种索引结果出现的。</p><p>什么是需要依赖的 cell 呢？<br><br>比如在普通的转账交易中，lock 锁需要用到固定的加密算法 SECP256K1_BLAKE160，也就是系统内置的一个智能合约， 这个加密算法的代码存放在某个 cell 中，就需要在 cell_deps 中引用进来， 这样 CKB-VM 虚拟机才能知道从哪里载入代码进行运算。</p><p>通过上文测试链的配置信息，我们很容易找到 cell_deps 中需要传入的参数。</p></div><h4 id="tx-output" style="color:#3CC68A">交易的 OUTPUT</h4><p>接下来我们再使用另一个工具，看看生成的output、以及一笔完整的交易长什么样子。</p><div style="font-size:14px;color:gray;margin:20px"><p>同样，把钱包 1 的 cell 拖到 input 中。</p><p>output 方框内将马上自动生成一个相同大小的新 cell。</p><p>点击 output 中的设置按钮，可以对新生成的 cell 进行重新分配，包括生成几个 cell、设置每个新 cell 的大小，设置每个 cell 的解锁地址，等等。</p><p>output 占用的 capacity 空间必须小于 input，二者的差值即为矿工能挣到的手续费。</p><p>设置完成后，点击“生成交易”的按钮，就可以看到这笔交易的 JSON 是什么样子了。</p></div><div style="text-align:center;border:1px solid gray;clear:both"><button style="padding:0.5rem 1rem;font-size:12px;color:white;border-radius:6px;border:1px solid rgb(131,196,220);outline:none;background-color:rgb(131,196,220);cursor:pointer"><div style="opacity:1">Fetch</div></button><p style="clear:both"></p></div><div style="margin-top:1em"><div style="text-align:center"> </div><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-1"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-5"><div style="text-align:center"><div style="width:100%"><div class="neon-brand" style="width:fit-content;margin:0 auto;padding:5px;border-bottom:0"><div class="neon-text">I<span id="offset">N</span>PUT</div></div></div><div style="height:200px;border:1px solid gray;text-align:left;overflow-y:scroll"><div style="height:20%;font-size:16px;text-align:center;border-bottom:1px solid gray;color:white"><span style="margin-top:10px;display:inline-block">把 Cell 拖进这里</span></div></div></div></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-2" style="min-height:200px;text-align:center;font-size:50px;margin-top:60px"><h4> </h4>➪</div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-5"><div style="text-align:center"><div style="width:100%"><div class="neon-brand" style="width:fit-content;margin:0 auto;padding:5px;border-bottom:0"><div class="neon-text">O<span id="offset">U</span>TPUT</div></div></div><div style="width:100%;border:1px solid gray;height:200px"><div style="width:100%;height:80%;padding-top:5px"><div style="height:20%;overflow-y:hidden"><div style="display:inline-block">总空间：</div><div style="width:30%;overflow-x:scroll;display:inline-block;vertical-align:text-bottom;background:white;color:black;padding:0 5px;margin-right:5px">0</div><div style="display:inline-block">CKB | </div><button style="padding:2px;font-size:16px;color:white;border-radius:6px;border:0;outline:none;background-color:rgb(131,196,220);cursor:pointer;margin-left:5px"><div style="opacity:1">⚙️ 设置</div></button></div><div style="text-align:center;height:80%;overflow-y:scroll;background:white;color:black"></div></div><div style="position:relative;bottom:0px;width:100%;height:15%;border-top:1px solid gray;padding-top:5px;background:black;font-size:16px">矿工手续费：<!-- -->0<!-- --> CKB  |   <!-- -->❌</div></div></div></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-1"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-6"><button style="padding:0.5rem 1rem;font-size:20px;color:white;border-radius:6px;border:1px solid rgb(131,196,220);outline:none;background-color:rgb(131,196,220);cursor:pointer;width:100%;margin-top:10px"><div style="opacity:1">生成一笔交易</div></button></div><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-6"><button style="padding:0.5rem 1rem;font-size:20px;color:white;border-radius:6px;border:1px solid rgb(131,196,220);outline:none;background-color:rgb(131,196,220);cursor:pointer;width:100%;margin-top:10px"><div style="opacity:1">清空</div></button></div></div><div class="MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-1"><div class="MuiGrid-root MuiGrid-item MuiGrid-grid-xs-12"><div style="width:100%;min-height:200px;border:1px solid gray;margin-top:10px"><div><pre contenteditable="false" style="outline:0px solid transparent;overflow:scroll;border:0"></pre></div></div></div></div></div><div style="font-size:14px;color:gray;margin:20px"><p>你应该注意到了，交易中的 <code style="background:white;color:gray;padding:2px;border-radius:5px">outputs</code>把新生成的 cell 的信息都写出来了，包括 capactiy 大小、lock 锁等信息。</p><p>但 output 中的 cell 并没有指明 data 的信息，相反，data 被统一挪到了<code style="background:white;color:gray;padding:2px;border-radius:5px">outputs_data</code> 字段中，按顺序对应 outputs 中的 cell。</p><p>这样做也是出于性能优化角度来设计的。</p><p>最后，一笔完整的交易还包括 <code style="background:white;color:gray;padding:2px;border-radius:5px">version</code> 和 <code style="background:white;color:gray;padding:2px;border-radius:5px">header_deps</code> 两个字段。 前者为版本信息，目前固定设置为 0x0 ，后者暂时不用管，放空就行。</p></div><h4 id="sign-a-tx" style="color:#3CC68A">对交易进行签名</h4><p>一笔转账拼好之后，需要用相应的私钥，对这笔交易进行签名，表明我们确实是 cell 的主人，有权对这些 cell 执行操作。</p><p>签名将被放入一个新的名为 witnesses 的字段中，作为交易的证明。</p><p>到这里你已经完整了解了一笔交易的过程，我们马上开始动手发交易。</p><br><br><br><hr><div id="construct-a-tx"></div><p>现在，把下面白框中的空白交易填满。<br><br>把它当作一次练习，自己用手动的方式填写一笔转账交易。<br><br>你可能需要用到查找钱包对应的 live Cell、查看链配置信息(用来填写 cell_deps)、16 进制与 10 进制互相转换这些功能，它们在右手边的工具箱中都可以找到。<br><br>点击右边 👉 Nervos 的 logo，即可打开工具箱。</p><div id="fill-the-tx-form"></div><div><h4 style="text-align:center"> <!-- -->将下面的交易补充完成<!-- --> </h4><div style="border:1px solid gray;padding:20px;overflow:scroll"><div><pre contenteditable="true" style="outline:0px solid transparent;overflow:scroll;border:0px;background:white;color:black;padding:10px">{
      version: &quot;0x0&quot;,
      cell_deps: [
        {
          out_point: {
            tx_hash: &quot;将此处补充完整&quot;,
            index: &quot;将此处补充完整&quot;,
          },
          dep_type: &quot;将此处补充完整&quot;, 
        },
      ],
      header_deps: [],
      inputs: [
        {
          since: &quot;0x0&quot;,
          previous_output: {
            tx_hash: &quot;将此处补充完整&quot;,
            index: &quot;将此处补充完整&quot;,
          },
        },
      ],
      outputs: [
        {
          capacity: &quot;将此处补充完整&quot;,
          lock: {
            code_hash: &quot;将此处补充完整&quot;,
            hash_type: &quot;将此处补充完整&quot;,
            args: &quot;将此处补充完整&quot;,
          },
        },
      ],
      outputs_data: [&quot;0x&quot;],
      witnesses: [&quot;0x&quot;]
}</pre></div><button style="padding:0.5rem 1rem;font-size:12px;color:white;border-radius:6px;border:1px solid rgb(131,196,220);outline:none;background-color:rgb(131,196,220);cursor:pointer"><div style="opacity:1">保存</div></button></div></div><p>填写完成后，点击保存按钮。</p><p>好了，到这里你已经手动把交易全部填好了。</p><p>这时我们已经可以为这笔交易生成一个独一无二的哈希了，也就是 tx_hash 已经可以提前确定出来。</p><p id="generate-tx-hash">点击下面的按钮，试试生成生成交易的哈希。</p><div style="width:100%;padding:10px 0px"><button style="padding:0.5rem 1rem;font-size:16px;color:white;border-radius:6px;border:1px solid rgb(131,196,220);outline:none;background-color:rgb(131,196,220);cursor:pointer;width:100%"><div style="opacity:1">生成 tx_hash</div></button><div style="padding:10px;border:1px solid gray;margin-top:5px;overflow-wrap:break-word"><p></p></div></div><p> 尽管这笔交易已经可以提前生成 tx_hash，但它现在仍然是一笔 raw_tx。raw_tx 跟 tx 最大的不同是， tx 会在 witnesses 字段中放入交易的签名。<br><br>事实上，你可以在 witnesses 里放入任何你需要的参数或者证明。而且因为它是一个数组，还可以放入多个证明。 但因为现在我们在尝试的是系统内建的转账交易， 这种交易互相约定会在每一组 witnesses 的第一个位置，放入这样一个结构：</p><div><pre contenteditable="false" style="outline:0px solid transparent;overflow:scroll;border:1px solid white;padding:5px">{
  &quot;lock&quot;: &quot;证明&quot;,
  &quot;input_type&quot;: &quot;证明&quot;,
  &quot;output_type&quot;: &quot;证明&quot;
}</pre></div><p>这一个结构被称为 WitnessArgs。不同的锁会从 WitnessArgs 不同的字段中读取自己需要的签名。 其中，lock 字段是 input 使用到的 lock 锁需要验证的签名。 在我们现在要实验的普通转账交易中，就是 SECP256K1_BLAKE160 算法需要验证的签名。<br><br>input_type 和 output_type 则是 input 和 output 中 type 锁需要验证的签名，暂时不必管它。</p><p style="font-size:14px;color:gray;margin:20px">签名是一个比较繁琐的过程。更详细的技术细节在这里：<a href="https://github.com/nervosnetwork/ckb-system-scripts/wiki/How-to-sign-transaction" target="_blank">How to sign transaction</a></p><p id="generate-message">现在，为了完成签名，让我们首先为这笔交易生成一个待签名的 message。</p><div style="width:100%;padding:10px 0px"><button style="padding:0.5rem 1rem;font-size:16px;color:white;border-radius:6px;border:1px solid rgb(131,196,220);outline:none;background-color:rgb(131,196,220);cursor:pointer;width:100%"><div style="opacity:1">生成 message</div></button><div style="padding:10px;border:1px solid gray;margin-top:5px;overflow-wrap:break-word"><p></p></div></div><h4 style="color:#3CC68A">开始签名</h4><p id="start-signing">有了 message，以及钱包里的私钥，我们就可以计算出签名了。</p><div style="width:100%;padding:10px 0px"><span style="padding:5px;margin-bottom:10px;display:block;background:white"><input style="width:100%;outline:none;line-height:2em;font-size:16px;border:0" placeholder="message"></span><span style="padding:5px;margin-bottom:10px;display:block;background:white"><input style="width:100%;outline:none;line-height:2em;font-size:16px;border:0" placeholder="private key"></span><button style="padding:0.5rem 1rem;font-size:16px;color:white;border-radius:6px;border:1px solid rgb(131,196,220);outline:none;background-color:rgb(131,196,220);cursor:pointer;width:100%"><div style="opacity:1">签名</div></button><div style="padding:10px;border:1px solid gray;margin-top:5px;overflow-wrap:break-word"><p> </p></div></div><h4 style="color:#3CC68A">把签名放回到交易中</h4><p>把生成的签名填入下面的输入框中，点击按钮，以 witnessArgs 的形式做一遍序列化：</p><div style="width:100%;padding:10px 0px"><span style="padding:5px;margin-bottom:10px;display:block;background:white"><input style="width:100%;outline:none;line-height:2em;font-size:16px;border:0" placeholder="lock: witness"></span><button style="padding:0.5rem 1rem;font-size:16px;color:white;border-radius:6px;border:1px solid rgb(131,196,220);outline:none;background-color:rgb(131,196,220);cursor:pointer;width:100%"><div style="opacity:1">序列化 witnessArgs</div></button><div style="padding:10px;border:1px solid gray;margin-top:5px;overflow-wrap:break-word"><p> </p></div></div><p id="put-sign-back">现在我们可以完善原本的交易了，把序列化好的签名放进 witnesses 字段里：</p><h4 id="send-tx" style="color:#3CC68A">最后一步，把交易发送到链上</h4><div style="width:100%;padding:10px 0px;clear:both"><button style="padding:0.5rem 1rem;font-size:16px;color:white;border-radius:6px;border:1px solid rgb(131,196,220);outline:none;background-color:rgb(131,196,220);cursor:pointer;width:100%"><div style="opacity:1">发送交易</div></button><div style="padding:10px;border:1px solid gray;margin-top:5px;overflow-wrap:break-word"><p>tx_hash: <!-- --> </p></div><div style="font-size:14px;color:gray;margin:20px"><p>注意看下，交易成功上链后返回的 tx_hash，是不是和之前事先生成的那个 tx_hash 一模一样？</p><p>CKB 的确定性诚不欺我。</p><p>现在，你可以通过下面的按钮，看看刚才我们发送的交易是不是真的在链上了。如果提示 <span style="background:white;color:gray;padding:2px;border-radius:5px">tx_status: pending</span> , 则表明交易还在pending，稍后重试就可以了。</p></div><button style="padding:0.5rem 1rem;font-size:16px;color:white;border-radius:6px;border:1px solid rgb(131,196,220);outline:none;background-color:rgb(131,196,220);cursor:pointer;width:100%"><div style="opacity:1">查看打包了该交易的区块</div></button><div style="padding:10px;border:1px solid gray;margin-top:5px;text-align:center;clear:both"><p></p></div><div></div></div><p>最后恭喜你，成功完成了第一小节的内容～</p><p>接下来，我们将会学习如何发送一笔<span style="color:#3CC68A">多签</span>的转账交易。</p></div></div><hr></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/xying21/docsite/docs/develop/tutorial-zero2ckb-transaction.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2021-11-12T10:38:03.000Z">11/12/2021</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docsite/docs/develop/tutorial-zero2ckb-basic"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« <!-- -->Chain Information</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docsite/docs/develop/tutorial-hellolumos-setupsystem"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Set Up Development Stacks<!-- --> »</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/docsite/img/whitecryptape.png" alt="Cryptapers" class="themedImage_TMUO themedImage--light_4Vu1 footer__logo"><img src="/docsite/img/whitecryptape.png" alt="Cryptapers" class="themedImage_TMUO themedImage--dark_uzRr footer__logo"></div><div class="footer__copyright">Copyright © 2021 cryptape.com. All Rights Reserved.</div></div></div></footer></div>
<script src="/docsite/assets/js/runtime~main.7d5934c5.js"></script>
<script src="/docsite/assets/js/main.fc76167a.js"></script>
</body>
</html>